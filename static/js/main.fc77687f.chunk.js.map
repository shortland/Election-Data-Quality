{"version":3,"sources":["data/ny_county_shoreline.geojson","data/states_tooltip_data.geojson","data/GeoJSON_example.geojson","components/map-components/pins.js","components/map-components/error-info.js","components/StateSelector.js","components/ElectionDisplayBar.js","components/DemographicsTable.js","components/DataCorrectionPage.js","components/Comments.js","components/CommentModal.js","components/LeftSidebar.js","utils.js","toolbar.js","components/UserModeSelector.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Pins","this","props","data","onClick","shouldShowPins","console","log","map","city","index","key","longitude","latitude","height","viewBox","style","cursor","fill","stroke","transform","d","PureComponent","ErrorInfo","info","textAlign","type","from","StateSelector","Dropdown","Toggle","variant","id","Menu","Item","href","select_state","Component","ElectionDisplayBar","state","election","electionResults","year","clinton","Math","random","trump","round","setState","keys","Object","ButtonGroup","size","className","Button","changeElection","bind","width","DemographicsTable","Table","striped","bordered","hover","colSpan","DataCorrectionPage","dismiss","data_correction_page_status","Form","Group","controlId","Label","Control","as","placeholder","save_changes","Comments","comments","get_comments","prevProps","savedCommentData","get_saved_comments","new_comments","push","numComments","ceil","commenter","content","i","comment","displayed_comments","Card","Body","CommentModal","show","display","user","text","comment_data","handle_modal_display","Modal","onHide","Header","closeButton","Title","Footer","saveCommentData","document","getElementById","value","LeftSidebar","createList","list","feature","selected","properties","p","get_data_correction_page_status","page_status","mode","get_comments_modal_data","comment_modal_data","_handleClick","event","showErrorPins","undefined","length","trigger","open","updateStateColors","featureCollection","accessor","features","scale","scaleQuantile","domain","range","f","percentile","MODES","EditorModes","SELECT","icon","DRAW_POINT","DRAW_PATH","DRAW_POLYGON","DRAW_RECTANGLE","Container","styled","div","Row","hovered","Img","img","Tooltip","Delete","Toolbar","_onHover","evt","hoveredId","target","_onDelete","onDelete","deleting","setTimeout","_onSaveChange","toolBarRequest","selectedMode","m","onSwitchMode","onMouseOver","onMouseOut","_","src","UserModeSelector","userModeSelect","MAPBOX_API","App","mapRef","React","createRef","handleViewportChange","viewport","handleGeocoderViewportChange","transitionDuration","handleOnResult","result","searchResultLayer","GeoJsonLayer","geometry","getFillColor","getRadius","pointRadiusMinPixels","pointRadiusMaxPixels","selectedFeatureIndex","toast","position","POSITION","BOTTOM_RIGHT","splice","READ_ONLY","_editorRef","deleteFeatures","_switchMode","_onSelect","_onUpdate","_onSaveRequest","selected_saved_feature","_renderToolbar","userMode","onSelect","selectedFeatureId","_onClick","stateFeature","find","layer","selectedFeature","name","_zoomToFeature","countyFeature","NAME","precinctFeature","srcEvent","offsetX","offsetY","hoveredFeature","x","y","countyHoveredFeature","_onClickError","error_data","popupInfo","zoom","countyData","countyDataOutline","stateData","precinctData","window","innerHeight","json","STATES_TOOLTIP_DATA","error","response","amount_counties","NY_COUNTY_SHORELINE_DATA","TESTING_PRECINCT_DATA","bbox","minLng","minLat","maxLng","maxLat","WebMercatorViewport","fitBounds","padding","transitionInterpolator","LinearInterpolator","around","offsetCenter","left","top","FIPS_CODE","tipSize","anchor","closeOnClick","onClose","Navbar","bg","expand","Brand","aria-controls","Collapse","Nav","state_abv","stateSelect","onViewportChange","mapStyle","mapboxApiAccessToken","onHover","doubleClickZoom","ref","clickRadius","onUpdate","onResult","countyDataLayerFillable","minzoom","maxzoom","countyDataLayerOutline","dataLayer","precinctDataLayerFillable","_renderTooltip","ERRORS","_renderErrorPopup","paint","property","stops","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.fc77687f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ny_county_shoreline.b5f895d3.geojson\";","module.exports = __webpack_public_path__ + \"static/media/states_tooltip_data.1c2d3362.geojson\";","module.exports = __webpack_public_path__ + \"static/media/GeoJSON_example.06e7f91a.geojson\";","import React, { PureComponent } from 'react';\nimport { Marker } from 'react-map-gl';\n\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\n\nconst SIZE = 20;\n\n// Important for perf: the markers never change, avoid rerender when the map viewport changes\nexport default class Pins extends PureComponent {\n\n    render() {\n        const { data, onClick, shouldShowPins } = this.props;\n        console.log(shouldShowPins);\n        if (shouldShowPins) {\n            console.log(\"should show pins\");\n            return data.map((city, index) => (\n                <Marker key={`marker-${index}`} longitude={city.longitude} latitude={city.latitude}>\n                    <svg\n                        height={SIZE}\n                        viewBox=\"0 0 24 24\"\n                        style={{\n                            cursor: 'pointer',\n                            fill: '#d00',\n                            stroke: 'none',\n                            transform: `translate(${-SIZE / 2}px,${-SIZE}px)`\n                        }}\n                        onClick={() => onClick(city)}\n                    >\n                        <path d={ICON} />\n                    </svg>\n                </Marker>\n            ));\n        } else {\n            return (<span></span>);\n        }\n\n    }\n}","import React, { PureComponent } from 'react';\n\nexport default class ErrorInfo extends PureComponent {\n    render() {\n        const { info } = this.props;\n\n        return (\n            <div>\n                <h3>Map Error</h3>\n                <br />\n                <p style={{ textAlign: 'left' }}>\n                    Type: {info.type}\n                    <br />\n                    Source: {info.from}\n                </p>\n            </div >\n        );\n    }\n}","import React, {Component} from 'react';\n\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nclass StateSelector extends Component{\n\n    render(){\n        return(\n            <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                    Select State\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                    <Dropdown.Item href=\"#/NewYork\" onClick={this.props.select_state(\"NY\")}>New York</Dropdown.Item>\n                    <Dropdown.Item href=\"#/Utah\" onClick={this.props.select_state(\"UT\")}>Utah</Dropdown.Item>\n                    <Dropdown.Item href=\"#/Wisconsin\" onClick={this.props.select_state(\"WI\")}>Wisconsin</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n        );\n    }\n}\n\nexport default StateSelector;","import React, { Component } from 'react';\n\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\n\n\nclass ElectionDisplayBar extends Component {\n    constructor(props) {\n        super(props);\n        //this.electionResults = { \"Clinton\": 60, \"Trump\": 40, \"Other\": 5 };\n        this.state = {\n            election: 2016,\n            electionResults: { \"Dem\": 60, \"Rep\": 40, \"Other\": 5 }\n        }\n    }\n\n    changeElection(year) {\n        let clinton = Math.random() * 100;\n        clinton = Math.round(clinton);\n        let trump = 100 - clinton;\n        this.setState({ election: year, electionResults: { \"Dem\": clinton, \"Rep\": trump } });\n    }\n\n    render() {\n        const { electionResults } = this.state;\n\n        let keys = Object.keys(electionResults);\n        //let values = Object.values(electionResults);\n\n        if (electionResults) {\n\n            return (\n                <div>\n                    <ButtonGroup size=\"sm\" className=\"mt-3\">\n                        <Button variant=\"outline-primary\" id=\"btn1\" className=\"button\" onClick={this.changeElection.bind(this, 2016)}>2016</Button>\n                        {/* <Button variant=\"outline-primary\" id=\"btn2\" className=\"button\" onClick={this.changeElection.bind(this, 2012)}>2016</Button> */}\n                        <Button variant=\"outline-primary\" id=\"btn3\" className=\"button\" onClick={this.changeElection.bind(this, 2008)}>2018</Button>\n                    </ButtonGroup>\n                    <br />\n                    <hr />\n                    Presidential:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar\" style={{ width: electionResults[keys[0]] + '%' }}>\n                            {keys[0] + ' ' + electionResults[keys[0]] + '%'}\n                        </div>\n                        <div className=\"RedBar\" style={{ width: electionResults[keys[1]] + '%' }}>\n                            {keys[1] + ' ' + electionResults[keys[1]] + '%'}\n                        </div>\n                    </div>\n                    <br />\n                    <hr />\n                    Congressional:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar\" style={{ width: electionResults[keys[0]] + '%' }}>\n                            {keys[0] + ' ' + electionResults[keys[0]] + '%'}\n                        </div>\n                        <div className=\"RedBar\" style={{ width: electionResults[keys[1]] + '%' }}>\n                            {keys[1] + ' ' + electionResults[keys[1]] + '%'}\n                        </div>\n                    </div>\n                    <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n                </div>\n            )\n        }\n    }\n}\n\nexport default ElectionDisplayBar;","import React, { PureComponent } from 'react';\n\nimport Table from 'react-bootstrap/Table';\n\nclass DemographicsTable extends PureComponent {\n    render() {\n        return (\n            <div>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Race</th>\n                            <th>Num</th>\n                            <th>Percent</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <th>White</th>\n                            <td>112</td>\n                            <td>44%</td>\n                        </tr>\n                        <tr>\n                            <th>Black</th>\n                            <td>55</td>\n                            <td>22%</td>\n                        </tr>\n                        <tr>\n                            <th>Hispanic</th>\n                            <td>80</td>\n                            <td>32%</td>\n                        </tr>\n                        <tr>\n                            <th>Asian</th>\n                            <td>6</td>\n                            <td>2%</td>\n                        </tr>\n                        <tr>\n                            <th>Other</th>\n                            <td>0</td>\n                            <td>0%</td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colSpan=\"2\">Total Population</th>\n                            <td>253</td>\n                        </tr>\n                    </tfoot>\n                </Table>\n                <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n            </div>\n        );\n    }\n}\n\nexport default DemographicsTable;","import React, { Component } from 'react';\n\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form'\n\n\n\nclass DataCorrectionPage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    save_changes() {\n        this.dismiss();\n    }\n\n    dismiss() {\n        this.props.data_correction_page_status(\"done\");\n    }\n\n\n    render() {\n        return (\n            <div className=\"data_correction_page\">\n                <h4>Data Correction Form</h4>\n                <Form>\n                    <Form.Group controlId=\"data_correction.target_data\">\n                        <Form.Label>Data for correction</Form.Label>\n                        <Form.Control as=\"select\">\n                            <option>Demographic</option>\n                            <option>Election</option>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"data_correction.value\">\n                        <Form.Label>Changed Value</Form.Label>\n                        <Form.Control type=\"value\" placeholder=\"Please enter corrected data\" />\n                    </Form.Group>\n                </Form>\n                <div className=\"data_correction_Btns\">\n                    <Button variant=\"outline-primary\" id=\"data_change\" onClick={() => { this.save_changes() }}>Change</Button>\n                    <Button variant=\"outline-primary\" id=\"data_change_cancel\" onClick={() => { this.dismiss() }}>Cancel</Button>\n                </div>\n                <br />\n            </div>\n        );\n    }\n}\n\nexport default DataCorrectionPage;","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card';\n\nclass Comments extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            comments: []\n        };\n    }\n\n    componentDidMount() {\n        this.get_comments();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.savedCommentData !== this.props.savedCommentData) {\n            this.get_saved_comments();\n        }\n    }\n\n    //Dynamically shows saved comments from comment modal\n    get_saved_comments() {\n        console.log(\"________________\", this.props.savedCommentData)\n        if (this.props.savedCommentData) {\n            this.setState((state) => {\n                let new_comments = state.comments;\n                new_comments.push(this.props.savedCommentData);\n                return { comments: new_comments }\n            });\n        }\n    }\n\n    // this is just for the presentation\n    get_comments() {\n        let numComments = Math.ceil(Math.random() * 3);\n        let commenter = [\"David\", \"Ilan\", \"Reed\", \"Sam\"];\n        let content = [\"Some comment about changing the election data b/c old source was invalid.\", \"Some comment about undoing the yesterdays changes done to the boundaries of the Albany county of NY.\", \"Some test comment.\", \"Another test comment.\"];\n        let comments = [];\n        for (let i = 0; i < numComments; i++) {\n            let comment = {\n                commenter: commenter[Math.round(Math.random() * 3)],\n                content: content[Math.round(Math.random() * 3)]\n            }\n            comments.push(comment);\n        }\n        this.setState({ comments: comments });\n    }\n\n    render() {\n        const { comments } = this.state;\n        const displayed_comments = [];\n        for (let i in comments) {\n            displayed_comments.push(\n                <Card>\n                    <Card.Body>\n                        {comments[i].commenter}{\": \"}{comments[i].content}\n                    </Card.Body>\n                </Card>\n            );\n        }\n\n        return (\n            <div >\n                {displayed_comments}\n            </div >\n        );\n    }\n}\n\nexport default Comments;","import React, { Component } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\n\nclass CommentModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false\n        };\n    }\n\n    //display is boolean\n    handle_modal_display(display) {\n        this.setState({ show: display });\n    }\n\n    saveCommentData(user, text) {\n        let comment_data = {\n            commenter: user,\n            content: text\n        };\n        this.props.savedCommentData(comment_data);\n    }\n\n    render() {\n        const { show } = this.state;\n        return (\n            <div>\n                <Button variant=\"primary\" onClick={() => { this.handle_modal_display(true) }}>Create Comment</Button>\n                <Modal show={show} onHide={() => { this.handle_modal_display(false) }}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Enter comment</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <input id=\"commentModalInput\" placeholder=\" Please enter your comments here\"></input>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => { this.handle_modal_display(false) }}>Cancel</Button>\n                        <Button variant=\"primary\" onClick={() => {\n                            this.handle_modal_display(false);\n                            this.saveCommentData(\"User\", document.getElementById(\"commentModalInput\").value);\n                        }}>Save Comment</Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default CommentModal;","import React, { Component } from 'react';\n\n// import InputGroup from 'react-bootstrap/InputGroup';\n// import FormControl from 'react-bootstrap/FormControl';\n// import Table from 'react-bootstrap/Table';\n// import Jumbotron from 'react-bootstrap/Jumbotron';\n// import Tabs from 'react-bootstrap/Tabs';\n// import Tab from 'react-bootstrap/Tab';\n// import Button from 'react-bootstrap/Tab';\nimport Collapsible from 'react-collapsible';\n\nimport ElectionDisplayBar from '../components/ElectionDisplayBar';\nimport DemographicsTable from '../components/DemographicsTable';\nimport DataCorrectionPage from '../components/DataCorrectionPage';\nimport Comments from '../components/Comments';\nimport CommentModal from '../components/CommentModal';\n\nclass LeftSidebar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mode: \"data_display\",\n            comment_data: undefined\n        }\n    }\n\n    createList = () => {\n        let list = [];\n\n        const feature = this.props.selected; //the selected feature\n\n        if (feature) {\n            if (feature.properties) {\n                const properties = feature.properties;\n                for (const p in properties) {\n                    list.push(<div>{`${p}: ${properties[p]}`}</div>);\n                }\n                // list.push(<div>State: {properties['name']}</div>);\n            }\n        }\n        return list;\n    }\n\n    //For data correction page\n    // data_correct_selected() {\n    //     this.setState({ mode: \"data_correction\" });\n    // }\n\n    //For data correction page to return page_status\n    get_data_correction_page_status = (page_status) => {\n        if (page_status === \"done\") {\n            this.setState({ mode: \"data_display\" });\n        }\n    }\n\n    get_comments_modal_data = (comment_modal_data) => {\n        if (comment_modal_data) {\n            this.setState({ comment_data: comment_modal_data });\n        }\n    }\n\n    _handleClick = event => {\n        this.props.showErrorPins();\n    }\n\n    render() {\n        const { mode } = this.state;\n        const { comment_data } = this.state;\n        const list = this.createList();\n        // const feature = this.props.selected;\n\n        if (list.length > 0) {\n            if (mode === \"data_display\") {\n                return (\n                    <div >\n                        <Collapsible trigger=\"View General Info\" open={true}>\n                            {list}\n                        </Collapsible>\n                        <Collapsible trigger=\"View Elections\">\n                            <ElectionDisplayBar />\n                        </Collapsible>\n                        <Collapsible trigger=\"View Demographics\">\n                            <DemographicsTable />\n                        </Collapsible>\n                        <Collapsible trigger=\"Modify Data\">\n                            <DataCorrectionPage data_correction_page_status={this.get_data_correction_page_status} />\n                        </Collapsible>\n                        <Collapsible trigger=\"View Comments\">\n                            <Comments savedCommentData={comment_data} />\n                            <br />\n                            <CommentModal savedCommentData={this.get_comments_modal_data} />\n                            <br />\n                        </Collapsible>\n                        <Collapsible trigger=\"View Map Errors\">\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View All</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Self Intersecting Boundaries</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Open Borders</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Gaps in Precinct Coverage</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Precinct Multipolygon</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Overlapping Precincts</button>\n                        </Collapsible>\n                    </div >\n                );\n            }\n        }\n        return (\n            <div>\n                Click on a highlighted state to view details\n            </div>\n        );\n    }\n}\n\nexport default LeftSidebar;","import {range} from 'd3-array';\nimport {scaleQuantile} from 'd3-scale';\n\nexport function updateStateColors(featureCollection, accessor) {\n  const {features} = featureCollection;\n  \n  const scale = scaleQuantile()\n    .domain(features.map(accessor))\n    .range(range(9));\n\n  return {\n    type: 'FeatureCollection',\n    features: features.map(f => {\n      const value = accessor(f);\n      const properties = {\n        ...f.properties,\n        value,\n        percentile: scale(value)\n      };\n\n      return {...f, properties};\n    })\n  };\n}","/* global setTimeout */\nimport React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { EditorModes } from 'react-map-gl-draw';\n\n\nconst MODES = [\n    { id: EditorModes.SELECT, text: 'Edit Feature', icon: 'icon-select.svg' },\n    { id: EditorModes.DRAW_POINT, text: 'Draw Point', icon: 'icon-point.svg' },\n    { id: EditorModes.DRAW_PATH, text: 'Draw Polyline', icon: 'icon-path.svg' },\n    { id: EditorModes.DRAW_POLYGON, text: 'Draw Polygon', icon: 'icon-polygon.svg' },\n    { id: EditorModes.DRAW_RECTANGLE, text: 'Draw Rectangle', icon: 'icon-rectangle.svg' }\n];\n\nconst Container = styled.div`\n  position: absolute;\n//   width: 48px;\n  left: 260px;\n  top: 240px;\n  background: #fff;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);\n  outline: none;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0px;\n  margin: 0px;\n`;\n\nconst Row = styled.div`\n  height: 34px;\n  width: 34px;\n  padding: 7px;\n  display: flex;\n  justify-content: left;\n  color: ${props => (props.selected ? '#ffffff' : 'inherit')};\n  background: ${props => (props.selected ? '#0071bc' : props.hovered ? '#e6e6e6' : 'inherit')};\n`;\n\nconst Img = styled.img`\n  max-width: 20px !important;\n`;\n\nconst Tooltip = styled.div`\n  position: absolute;\n  left: 52px;\n  padding: 4px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  min-width: 100px;\n  max-width: 300px;\n  height: 24px;\n  font-size: 12px;\n  z-index: 9;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Delete = styled(Row)`\n  &:hover {\n    background: ${props => (props.selected ? '#0071bc' : '#e6e6e6')};\n  }\n  &:active: {\n    background: ${props => (props.selected ? '#0071bc' : 'inherit')};\n  }\n`;\n\nexport default class Toolbar extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            deleting: false,\n            hoveredId: null,\n        };\n    }\n\n    _onHover = evt => {\n        this.setState({ hoveredId: evt && evt.target.id });\n    };\n\n    //TODO probably dont neet to pass the evt \n    _onDelete = () => {\n        this.props.onDelete();\n        this.setState({ deleting: true });\n        setTimeout(() => this.setState({ deleting: false }), 500)\n    };\n\n    _onSaveChange = () => {\n        console.log(this.props.features)\n        this.props.toolBarRequest(this.props.features.data);\n    }\n\n    render() {\n        const { selectedMode } = this.props;\n        const { hoveredId } = this.state;\n        return (\n            <Container>\n                {MODES.map(m => {\n                    return (\n                        <Row\n                            onClick={this.props.onSwitchMode}\n                            onMouseOver={this._onHover}\n                            onMouseOut={_ => this._onHover(null)}\n                            selected={m.id === selectedMode}\n                            hovered={m.id === hoveredId}\n                            key={m.id}\n                            id={m.id}\n                        >\n                            <Img id={m.id} onMouseOver={this._onHover} src={m.icon} />\n                            {hoveredId === m.id && <Tooltip>{m.text}</Tooltip>}\n                        </Row>\n                    );\n                })}\n                <Delete\n                    selected={this.state.deleting}\n                    onClick={this._onDelete}\n                    onMouseOver={this._onHover}\n                    onMouseOut={_ => this._onHover(null)}\n                >\n                    <Img\n                        id={'delete'}\n                        onMouseOver={this._onHover}\n                        src={'icon-delete.svg'}\n                    />\n                    {hoveredId === 'delete' && <Tooltip>{'Delete'}</Tooltip>}\n                </Delete>\n                <Row\n                    onClick={() => this._onSaveChange()}\n                    onMouseOver={this._onHover}\n                    onMouseOut={_ => this._onHover(null)}\n                    id=\"saveDrawBtn\"\n                ><span style={{ \"fontSize\": \"10px\" }}> save</span></Row>\n            </Container>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nclass UserModeSelector extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"userModeSelect\">\n                    Switch User Mode\n            </Dropdown.Toggle>\n                <Dropdown.Menu>\n                    <Dropdown.Item onClick={() => this.props.userModeSelect(\"View\")}>View</Dropdown.Item>\n                    <Dropdown.Item onClick={() => this.props.userModeSelect(\"Edit\")}>Edit</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n        );\n    }\n}\n\nexport default UserModeSelector;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport MapGL, { Popup, NavigationControl, FullscreenControl, ScaleControl, Source, Layer, LinearInterpolator, WebMercatorViewport } from 'react-map-gl';\nimport { Nav, Navbar, Form, FormControl, Button } from 'react-bootstrap';\nimport { json } from 'd3-request';\nimport bbox from '@turf/bbox';\nimport { ToastContainer, toast } from 'react-toastify';\nimport DeckGL from '@deck.gl/react';\nimport { GeoJsonLayer } from '@deck.gl/layers';\nimport Geocoder from 'react-map-gl-geocoder';\nimport { Editor, EditorModes } from 'react-map-gl-draw';\n\n/**\n * CSS Styling\n */\nimport './App.css';\nimport './styles/Collapsible.css';\nimport './styles/PinPopup.css';\nimport './static/app.css';\n// import './styles/GeoCodeSearch.css';\nimport 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\n/**\n * Our components\n */\nimport Pins from './components/map-components/pins';\nimport ErrorInfo from './components/map-components/error-info';\nimport StateSelector from './components/StateSelector';\nimport LeftSidebar from './components/LeftSidebar';\nimport { updateStateColors } from './utils';\nimport Toolbar from './toolbar';\nimport UserModeSelector from './components/UserModeSelector';\n\n/**\n * Static data files\n */\nimport ERRORS from './data/errors.json';\nimport STATES_TOOLTIP_DATA from './data/states_tooltip_data.geojson';\nimport NY_COUNTY_SHORELINE_DATA from './data/ny_county_shoreline.geojson';\nimport TESTING_PRECINCT_DATA from './data/GeoJSON_example.geojson';\n\n/**\n * Mapbox Style & API Key\n */\nconst MAPBOX_STYLE = 'mapbox://styles/shortland/ck6bf8xag0zv81io8o68otfdr';\nconst MAPBOX_API = 'pk.eyJ1Ijoic2hvcnRsYW5kIiwiYSI6ImNqeXVzOWhsbjBpYzczY29hNGZycTlqdXAifQ.B6l-uEqGG-Pw6-quz4eflQ';\n\nexport default class App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            countyData: null,\n            countyDataOutline: null,\n            stateData: null,\n            hoveredFeature: null,\n            precinctData: null,\n            viewport: {\n                width: \"100%\",\n                height: window.innerHeight - 56,\n                latitude: 37.0902,\n                longitude: -105.7129,\n                zoom: 3.3,\n            },\n            popupInfo: null,\n            selectedFeature: null,\n            selectedMode: EditorModes.READ_ONLY,\n            selectedFeatureId: null,\n            shouldShowPins: false,\n            features: {},\n            selectedFeatureIndex: null,\n            userMode: \"View\"\n        };\n\n        this._editorRef = null;\n        this.showErrorPins = this.showErrorPins.bind(this);\n    }\n\n    /**\n     * For Mapbox geocoding\n     */\n    mapRef = React.createRef();\n\n    handleViewportChange = viewport => {\n        this.setState({\n            viewport: { ...this.state.viewport, ...viewport }\n        });\n    };\n\n    handleGeocoderViewportChange = viewport => {\n        const geocoderDefaultOverrides = { transitionDuration: 1000 };\n\n        return this.handleViewportChange({\n            ...viewport,\n            ...geocoderDefaultOverrides,\n        });\n    };\n\n    handleOnResult = event => {\n        console.log(event.result);\n        this.setState({\n            searchResultLayer: new GeoJsonLayer({\n                id: \"search-result\",\n                data: event.result.geometry,\n                getFillColor: [255, 0, 0, 128],\n                getRadius: 1000,\n                pointRadiusMinPixels: 10,\n                pointRadiusMaxPixels: 10,\n            })\n        });\n    };\n\n    /**\n     * For React Map Gl Draw\n     */\n    _onDelete = () => {\n        const { selectedFeatureIndex } = this.state;\n        if (selectedFeatureIndex === null || selectedFeatureIndex === undefined) {\n            toast.info(\"Please select a new created precint before deleting action\", {\n                position: toast.POSITION.BOTTOM_RIGHT,\n            });\n            return;\n        }\n        else {\n            toast.info(\"Selected precinct is deleted\", {\n                position: toast.POSITION.BOTTOM_RIGHT,\n            });\n            let features = this.state.features;\n            if (selectedFeatureIndex > -1) {\n                features.data.splice(selectedFeatureIndex, 1);\n            }\n            this.setState({ selectedFeatureIndex: null, selectedMode: EditorModes.READ_ONLY, features: features });\n        }\n        this._editorRef.deleteFeatures(selectedFeatureIndex);\n\n    };\n\n    _switchMode = evt => {\n        let selectedMode = evt.target.id;\n        if (selectedMode === this.state.selectedMode) {\n            selectedMode = null;\n        }\n\n        this.setState({ selectedMode });\n    };\n\n    //Map GL Draw select a feature (a created shape by the MapGLDraw)\n    _onSelect = selected => {\n        this.setState({ selectedFeatureIndex: (selected && selected.selectedFeatureIndex) });\n    };\n    //Map GL Draw update (user draw a new shape)\n    _onUpdate = (features) => {\n        this.setState({ features: features, selectedMode: EditorModes.READ_ONLY, selectedFeatureIndex: null });\n    }\n    // _updateViewport = viewport => {\n    //     this.setState({ viewport });\n    // };\n\n    //toobar save button click event\n    _onSaveRequest = (toolBarRequest) => {\n        if (toolBarRequest) {\n            let selected_saved_feature = this.state.features.data[this.state.selectedFeatureIndex];\n            console.log(selected_saved_feature);\n            this.setState({ selectedMode: EditorModes.READ_ONLY, selectedFeatureIndex: null })\n            if (selected_saved_feature) {\n                toast.info(\"New precinct is saved\", {\n                    position: toast.POSITION.BOTTOM_RIGHT,\n                });\n            }\n            else {\n                toast.info(\"Please select a new created precint to save\", {\n                    position: toast.POSITION.BOTTOM_RIGHT,\n                });\n            }\n        }\n    }\n\n    _renderToolbar = () => {\n        const { userMode } = this.state;\n        if (userMode === \"Edit\") {\n            return (\n                <Toolbar\n                    selectedMode={this.state.selectedMode}\n                    onSwitchMode={this._switchMode}\n                    onDelete={this._onDelete}\n                    onSelect={this._onSelect}\n                    features={this.state.features}\n                    selectedFeatureId={this.state.selectedFeatureId}\n                    toolBarRequest={this._onSaveRequest}\n                />\n            );\n        }\n        else {\n            return;\n        }\n\n    };\n    // _updateViewport = (viewport) => {\n    //     this.setState({ viewport });\n    // }\n\n    // _onSelect = ({ selectedFeatureId }) => {\n    //     this.setState({ selectedFeatureId });\n    // };\n\n    // _onUpdate = features => {\n    //     this.setState({\n    //         features\n    //     });\n    // };\n\n    // _switchMode = evt => {\n    //     const selectedMode = evt.target.id === this.state.selectedMode ? EditorModes.READ_ONLY : evt.target.id;\n    //     this.setState({\n    //         selectedMode,\n    //         selectedFeatureId: null\n    //     });\n    // };\n\n    // _renderControlPanel = () => {\n    //     return (\n    //         <div style={{ position: 'absolute', top: 0, right: 0, maxWidth: '320px' }}>\n    //             <select onChange={this._switchMode}>\n    //                 <option value=\"\">--Please choose a mode--</option>\n    //                 {MODES.map(mode => <option value={mode.id}>{mode.text}</option>)}\n    //             </select>\n    //         </div>\n    //     );\n    // }\n\n    // _getEditHandleStyle = ({ feature, featureState, vertexIndex, vertexState }) => {\n    //     return {\n    //         fill: vertexState === `SELECTED` ? '#000' : '#aaa',\n    //         stroke: vertexState === `SELECTED` ? '#000' : 'none'\n    //     }\n    // }\n\n    // _getFeatureStyle = ({ feature, featureState }) => {\n    //     return {\n    //         stroke: featureState === `SELECTED` ? '#000' : 'none',\n    //         fill: featureState === `SELECTED` ? '#080' : 'none',\n    //         fillOpacity: 0.8\n    //     }\n    // }\n\n\n\n\n    componentDidMount() {\n        /**\n         * State data\n         */\n        json(\n            STATES_TOOLTIP_DATA,\n            (error, response) => {\n                if (!error) {\n                    this.setState({\n                        stateData: updateStateColors(response, f => f.properties.amount_counties),\n                    });\n                }\n            }\n        );\n\n        /**\n         * County data outline\n         */\n        json(\n            NY_COUNTY_SHORELINE_DATA,\n            (error, response) => {\n                if (!error) {\n                    this.setState({\n                        countyDataOutline: response,\n                    });\n                }\n            }\n        );\n\n        /**\n         * County data\n         */\n        json(\n            NY_COUNTY_SHORELINE_DATA,\n            (error, response) => {\n                if (!error) {\n                    this.setState({\n                        countyData: response,\n                    });\n                }\n            }\n        );\n\n        /**\n         * example/testing precinct data\n         */\n        json(\n            TESTING_PRECINCT_DATA,\n            (error, response) => {\n                if (!error) {\n                    this.setState({\n                        precinctData: response,\n                    });\n                }\n            }\n        );\n    }\n\n    _onClick = event => {\n        // sets the selected feature onclcik, to have properties displayed by LeftSidebar\n        const {\n            features,\n        } = event;\n\n        const stateFeature = features && features.find(f => f.layer.id === 'stateData');\n        if (stateFeature) {\n            // if a clicks on a state that was already selected/clicked on\n            if (this.state.selectedFeature) {\n                if (stateFeature.properties.name === this.state.selectedFeature.properties.name) {\n                    this._zoomToFeature(event);\n                    return;\n                }\n            } else {\n                toast.info(\"Click the same feature (state/county) again to zoom in.\", {\n                    position: toast.POSITION.BOTTOM_RIGHT,\n                });\n            }\n\n            this.setState({ selectedFeature: stateFeature });\n            return;\n        }\n\n        const countyFeature = features && features.find(f => f.layer.id === 'countyData');\n        if (countyFeature) {\n            // if a clicks on a county that was already selected/clicked on\n            if (countyFeature.properties.NAME === this.state.selectedFeature.properties.NAME) {\n                this._zoomToFeature(event);\n                return;\n            }\n\n            this.setState({ selectedFeature: countyFeature });\n            return;\n        }\n\n        const precinctFeature = features && features.find(f => f.layer.id === 'precinctData');\n        if (precinctFeature) {\n            this.setState({ selectedFeature: precinctFeature });\n            return;\n        }\n    };\n\n    _zoomToFeature(event) {\n        const feature = event.features[0];\n\n        if (!feature) {\n            return;\n        }\n\n        if (feature.layer.id === \"stateData\" || feature.layer.id === \"countyData\") {\n            const [minLng, minLat, maxLng, maxLat] = bbox(feature);\n            const viewport = new WebMercatorViewport(this.state.viewport);\n            const { longitude, latitude, zoom } = viewport.fitBounds([[minLng, minLat], [maxLng, maxLat]], {\n                padding: 40\n            });\n\n            this.setState({\n                viewport: {\n                    ...this.state.viewport,\n                    longitude,\n                    latitude,\n                    zoom,\n                    transitionInterpolator: new LinearInterpolator({\n                        around: [event.offsetCenter.x, event.offsetCenter.y]\n                    }),\n                    transitionDuration: 1000,\n                }\n            });\n            return;\n        }\n    }\n\n    _onHover = event => {\n        const {\n            features,\n            srcEvent: { offsetX, offsetY },\n        } = event;\n\n        const hoveredFeature = features && features.find(f => f.layer.id === 'stateData');\n        this.setState({ hoveredFeature, x: offsetX, y: offsetY });\n\n        if (!hoveredFeature) {\n            const countyHoveredFeature = features && features.find(f => f.layer.id === 'countyData');\n            this.setState({ countyHoveredFeature, x: offsetX, y: offsetY });\n        }\n    };\n\n    _renderTooltip() {\n        const { hoveredFeature, countyHoveredFeature, x, y } = this.state;\n\n        if (hoveredFeature) {\n            return (\n                hoveredFeature && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{hoveredFeature.properties.name}</h5>\n                        <div>Counties: {hoveredFeature.properties.amount_counties}</div>\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        }\n\n        if (countyHoveredFeature) {\n            return (\n                countyHoveredFeature && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{countyHoveredFeature.properties.NAME} County</h5>\n                        <div>FIPS Code: {countyHoveredFeature.properties.FIPS_CODE}</div>\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        }\n    }\n\n    userModeSelect = (userMode) => {\n        if (userMode) {\n            this.setState({ userMode: userMode });\n        }\n    }\n\n    stateSelect(name) {\n        let latitude = 0;\n        let longitude = 0;\n        let zoom;\n\n        switch (name) {\n            case \"New York\":\n            case \"NY\":\n                latitude = 43.2994;\n                longitude = -76.2179;\n                zoom = 6;\n                break;\n            case \"Wisconsin\":\n            case \"WI\":\n                latitude = 44.7844;\n                longitude = -89.7879;\n                zoom = 6;\n                break;\n            case \"Utah\":\n            case \"UT\":\n                latitude = 39.3210;\n                longitude = -112.0937;\n                zoom = 6;\n                break;\n            default:\n        }\n\n        this.setState({\n            viewport: {\n                ...this.state.viewport,\n                latitude: latitude,\n                longitude: longitude,\n                zoom: zoom,\n            },\n        });\n    }\n\n    /**\n     * Rendering error pins on the map & its popup\n     */\n    _onClickError = error_data => {\n        this.setState({ popupInfo: error_data });\n        console.log(error_data);\n        this.setState({\n            viewport: {\n                ...this.state.viewport,\n                longitude: error_data.longitude,\n                latitude: error_data.latitude,\n                transitionDuration: 1000,\n                zoom: 11,\n            }\n        });\n    };\n\n    _renderErrorPopup() {\n        const { popupInfo } = this.state;\n\n        return (\n            popupInfo && (\n                <Popup\n                    tipSize={5}\n                    anchor=\"top\"\n                    longitude={popupInfo.longitude}\n                    latitude={popupInfo.latitude}\n                    closeOnClick={false}\n                    onClose={() => this.setState({ popupInfo: null })}\n                >\n                    <ErrorInfo info={popupInfo} />\n                </Popup>\n            )\n        );\n    }\n\n    showErrorPins() {\n        const { shouldShowPins } = this.state;\n        if (shouldShowPins) {\n            this.setState({ shouldShowPins: false });\n        } else {\n            this.setState({ shouldShowPins: true });\n        }\n    }\n\n    render() {\n        const { viewport, stateData, countyDataOutline, countyData, precinctData, searchResultLayer, selectedMode, features, shouldShowPins } = this.state;\n\n        return (\n            <div className=\"App\">\n                <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n                    <Navbar.Brand href=\"#home\">Election Data Quality</Navbar.Brand>\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\n                        <Nav className=\"mr-auto\">\n                            {/* <Nav.Link href=\"#tmp\">Something</Nav.Link> */}\n                            <StateSelector\n                                select_state={(state_abv) => this.stateSelect.bind(this, state_abv)}\n                            />\n                            <UserModeSelector userModeSelect={(selectedMode) => this.userModeSelect(selectedMode)} />\n                        </Nav>\n                    </Navbar.Collapse>\n                </Navbar>\n\n                <div>\n                    <div id=\"leftCol\">\n                        <LeftSidebar\n                            selected={this.state.selectedFeature}\n                            showErrorPins={this.showErrorPins.bind(this)}\n                        />\n                    </div>\n\n                    <MapGL\n                        {...viewport}\n                        onViewportChange={(viewport => this.setState({ viewport: viewport }))}\n                        mapStyle={MAPBOX_STYLE}\n                        mapboxApiAccessToken={MAPBOX_API}\n                        onHover={this._onHover}\n                        onClick={this._onClick}\n                        // onDblClick={this._onDblClick}\n                        doubleClickZoom={false}\n                        ref={this.mapRef}\n                    >\n                        <Editor\n                            ref={_ => (this._editorRef = _)}\n                            clickRadius={12}\n                            onSelect={(selected) => this._onSelect(selected)}\n                            onUpdate={(features) => this._onUpdate(features)}\n                            mode={selectedMode}\n                        />\n\n                        {/* Geocoder - enables searching on the map */}\n                        <Geocoder\n                            mapRef={this.mapRef}\n                            onResult={this.handleOnResult}\n                            onViewportChange={this.handleGeocoderViewportChange}\n                            mapboxApiAccessToken={MAPBOX_API}\n                            position=\"top-right\"\n                        />\n                        {/* This is used alongside the Geocoder... \n                            But apparently it doesn't need to be here for the geocoder to work?\n                            I commented it out - because it mysteriously breaks the Editor...\n                         */}\n                        {/* <DeckGL {...viewport} layers={[searchResultLayer]} /> */}\n\n                        {/* For rendering the controls at top left of the map */}\n                        <div className=\"FullScreenController MapControllers\">\n                            <FullscreenControl />\n                        </div>\n                        <div className=\"NavigationController MapControllers\">\n                            <NavigationControl />\n                        </div>\n                        <div className=\"ScaleController MapControllers\">\n                            <ScaleControl />\n                        </div>\n\n                        {/* For rendering (NYS) county colors & tooltips over counties */}\n                        <Source type=\"geojson\" data={countyData}>\n                            <Layer\n                                {...countyDataLayerFillable}\n                                minzoom={5}\n                                maxzoom={8}\n                            />\n                        </Source>\n\n                        {/* For rendering (NYS) county data outline */}\n                        <Source type=\"geojson\" data={countyDataOutline}>\n                            <Layer\n                                {...countyDataLayerOutline}\n                                minzoom={5}\n                            // maxzoom={8}\n                            />\n                        </Source>\n\n                        {/* For rendering state colors & tooltips over states */}\n                        <Source type=\"geojson\" data={stateData}>\n                            <Layer\n                                {...dataLayer}\n                                maxzoom={5}\n                            />\n                        </Source>\n\n                        {/* PRECINCT EXAMPLE DATA */}\n                        <Source type=\"geojson\" data={precinctData}>\n                            <Layer\n                                {...precinctDataLayerFillable}\n                                minzoom={8}\n                            />\n                        </Source>\n                        {this._renderTooltip()}\n\n                        {this._renderToolbar()}\n\n                        {/* For rendering pins over our map */}\n                        <Pins\n                            data={ERRORS}\n                            onClick={this._onClickError}\n                            shouldShowPins={shouldShowPins}\n                        />\n                        {this._renderErrorPopup()}\n                    </MapGL>\n                </div>\n\n                <ToastContainer />\n            </div >\n        );\n    }\n}\n\nconst precinctDataLayerFillable = {\n    id: 'precinctData',\n    type: 'fill',\n    paint: {\n        'fill-color': {\n            property: 'percentile',\n            stops: [\n                [0, '#3288bd'],\n                [1, '#66c2a5'],\n                [2, '#abdda4'],\n                [3, '#e6f598'],\n                [4, '#ffffbf'],\n                [5, '#fee08b'],\n                [6, '#fdae61'],\n                [7, '#f46d43'],\n                [8, '#d53e4f']\n            ]\n        },\n        'fill-opacity': 0.5,\n    },\n};\n\nconst countyDataLayerFillable = {\n    id: 'countyData',\n    type: 'fill',\n    paint: {\n        'fill-color': {\n            property: 'percentile',\n            stops: [\n                [0, '#3288bd'],\n                [1, '#66c2a5'],\n                [2, '#abdda4'],\n                [3, '#e6f598'],\n                [4, '#ffffbf'],\n                [5, '#fee08b'],\n                [6, '#fdae61'],\n                [7, '#f46d43'],\n                [8, '#d53e4f']\n            ]\n        },\n        'fill-opacity': 0.0,\n    },\n};\n\nconst countyDataLayerOutline = {\n    id: 'countyDataOutline',\n    type: 'line',\n    paint: {\n        'line-color': '#000000',\n        'line-width': 2,\n    },\n};\n\nconst dataLayer = {\n    id: 'stateData',\n    type: 'fill',\n    paint: {\n        'fill-color': {\n            property: 'percentile',\n            stops: [\n                [0, '#3288bd'],\n                [1, '#66c2a5'],\n                [2, '#abdda4'],\n                [3, '#e6f598'],\n                [4, '#ffffbf'],\n                [5, '#fee08b'],\n                [6, '#fdae61'],\n                [7, '#f46d43'],\n                [8, '#d53e4f']\n            ]\n        },\n        'fill-opacity': 0.8,\n    },\n};\n\nexport function renderToDom(container) {\n    render(<App />, container);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('map'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}