{"version":3,"sources":["data/AppData.js","layers/CountyLayer.js","layers/StateLayer.js","layers/PrecinctLayer.js","layers/CongressionalLayer.js","components/map/ErrorPins.js","components/map/ErrorModal.js","components/navbar/StateSelector.js","components/sidebar/ElectionDisplayBar.js","components/sidebar/DemographicsTable.js","components/sidebar/DataCorrectionPage.js","components/sidebar/ModifyNeighbors.js","components/sidebar/Comments.js","components/sidebar/CommentModal.js","components/sidebar/MergePrecinct.js","components/sidebar/MapErrors.js","components/sidebar/LeftSidebar.js","components/map/toolbar.js","components/navbar/UserModeSelector.js","components/navbar/MergeBtn.js","components/App.js","serviceWorker.js","index.js"],"names":["AppData","asyncFetch","url","a","fetch","response","json","this","allStates","baseUrl","data","status","alert","i","features","type","content","feature","properties","name","id","congressional_districts","congressionalDistrictIds","geometry","push","featureCollection","stateID","concat","length","currFeature","parentId","childrenId","countyId","countyID","console","log","f","precinctId","precinctId1","precinctId2","countyDataLayerFillable","paint","countyDataLayerOutline","layout","stateLayerFill","stateLayerOutline","precinctLayerFill","precinctLayerOutline","congressionalLayerFill","congressionalLayerOutline","Pins","props","onClick","shouldShowPins","map","city","index","key","longitude","latitude","height","viewBox","style","cursor","fill","stroke","transform","d","PureComponent","ErrorInfo","info","textAlign","from","StateSelector","Dropdown","Toggle","variant","Menu","Item","href","select_state","Component","ElectionDisplayBar","state","votingData","election","presidental","undefined","congressional","elections","allElections","Object","keys","electionData","year","electionInYear","includes","toString","ans","result","resultsByParty","resultInYear","getResults","resultInYearKey","setState","allElection","years","substring","buttonList","Button","className","changeElection","bind","parseInt","getAllElection","ButtonGroup","size","yearButtons","width","nextProps","prevState","DemographicsTable","total","demographicData","value","demographic","race","calculateTotal","Table","striped","bordered","hover","getPopulation","colSpan","DataCorrectionPage","dismiss","data_correction_page_status","Form","Group","controlId","Label","Control","as","placeholder","save_changes","ModifyNeighbors","mode","dynamicAddNeighbor","neighbors","selectedFeature","neighborsId","r","modify_neighbors_page_status","targetPrecinct","precinctsForEdit","precinctSelectedForEdit","appData","addPrecinctNeighbor","then","respond","dynamicAddNeighborId","forceUpdate","deletePrecinctNeighbor","dynamicDeleteNeighborId","newId","trim","deletedId","oldNeighbors","newNeighbors","evt","switchMode","getAllNeighbors","saveAction","MapErrors","selectedErrorType","allError","allErrors","errorList","ListGroup","errorListOnClick","errorType","DropdownButton","title","changeErrorType","createErrorListByType","LeftSidebar","createList","list","selected","p","get_data_correction_page_status","page_status","get_modify_neighbors_page_status","leftSideBarStatus","get_mapErrorList_onClick","errorData","get_comments_modal_data","comment_modal_data","comment_data","_handleClick","event","showErrorPins","userMode","selectedFeatureType","trigger","open","marginLeft","MODES","EditorModes","SELECT","text","icon","DRAW_POINT","DRAW_PATH","DRAW_POLYGON","DRAW_RECTANGLE","Container","styled","div","Row","hovered","Img","img","Tooltip","Delete","Toolbar","_onHover","hoveredId","target","_onDelete","onDelete","deleting","setTimeout","_onSaveChange","toolBarRequest","selectedMode","m","onSwitchMode","onMouseOver","onMouseOut","_","src","UserModeSelector","userModeSelect","toast","position","POSITION","BOTTOM_RIGHT","disabled","MergeBtn","enabled","mergePrecincts","MAPBOX_API","App","handleViewportChange","viewport","handleGeocoderViewportChange","transitionDuration","handleOnResult","searchResultLayer","GeoJsonLayer","getFillColor","getRadius","pointRadiusMinPixels","pointRadiusMaxPixels","selectedFeatureIndex","splice","READ_ONLY","_editorRef","deleteFeatures","_switchMode","_onSelect","_onUpdate","_onSaveRequest","selected_saved_feature","_renderToolbar","onSelect","_onClick","stateFeature","find","layer","countyFeature","congressionalFeature","precinctFeature","previouslySelected","_zoomToFeature","onStateSelected","onCountySelected","onPrecinctSelected","srcEvent","shiftKey","removeHighlightPrecinctNeighbors","removeSelectedHighlight","addSelectedHighlight","mapRef","current","getMap","x","y","source","lastHovered","hoveredFeature","setFeatureState","stateHovered","countyHovered","congressionalHovered","precinctHovered","isState","isCounty","isCongressional","isPrecinct","onPrecinctHover","precinct_selection_to_edit","precinct_selected_for_edit","_onClickError","error_data","popupInfo","zoom","slice","fetchPrecinctShape","geo","oneArray","coordinates","queryRenderedFeatures","layers","get_leftSideBar_status","selectedPrecinctGroup","pop","mergePrecinct","success","BOTTOM_CENTER","error","toggleLayer","e","stopPropagation","states","counties","precincts","parks","stopPropogation","nativeEvent","stopImmediatePropagation","_renderCheckboxes","Card","border","backgroundColor","Header","Body","Check","label","defaultChecked","Footer","lineHeight","stateData","countyData","countyDataOutline","congressionalDistrictData","precinctData","window","innerHeight","React","createRef","fetchCongressionalDistrictByState","fetchCountiesByState","fetchShapeOfPrecinctsByCounty","multiSelecting","selectingMultiple","addPrecinctToGroup","fetchPrecinctInfo","oldData","neighborsStrId","fullName","isGhost","parentDistrictId","precinctErrors","newProp","assign","updatedPrecinct","prevSelectedForDynmic","isPrecinctSelectedForEditExist","prevSelected","clearPrecinctGroup","highlightPrecinctNeighbors","group","warn","bbox","minLng","minLat","maxLng","maxLat","WebMercatorViewport","fitBounds","padding","transitionInterpolator","LinearInterpolator","around","offsetCenter","Nid","neighbor","left","top","tipSize","anchor","closeOnClick","onClose","fetchAllPrecinctError","errorMap","fetchAllStates","getAllErrors","maxzoom","minzoom","state_abv","stateSelect","precinctIsSelected","onViewportChange","mapStyle","mapboxApiAccessToken","onHover","doubleClickZoom","ref","fontSize","right","clickRadius","onUpdate","onResult","renderStateLayers","renderCountyLayers","renderCongressionalLayers","renderPrecinctLayers","_renderTooltip","ERRORS","_renderErrorPopup","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.674de142.chunk.js","sourcesContent":["/**\n * A class to access all our fetch API calls through\n */\nclass AppData {\n    constructor() {\n        this.allStates = null;\n\n        // For development\n        //this.baseUrl = \"//0.0.0.0:1234/\";\n\n        // For production\n        this.baseUrl = \"https://ElectionDataQuality.com:1234/\";\n    }\n\n    asyncFetch = async (url) => {\n        const response = await fetch(url);\n        const json = await response.json();\n        return json;\n    }\n\n    //-------- * STATES * -----------\n    async fetchAllStates() {\n        const data = await this.asyncFetch(this.baseUrl + 'allStates');\n\n        if (data.status != \"ok\") {\n            alert(\"server error: unable to get data\");\n            return;\n        }\n\n        let features = {\n            type: \"FeatureCollection\",\n            features: [],\n        };\n\n        for (let i in data.content) {\n            let feature = {\n                type: \"Feature\",\n                properties: {\n                    name: data.content[i].name,\n                    id: data.content[i].id,\n                    congressional_districts: data.content[i].congressionalDistrictIds,\n                },\n                id: data.content[i].id,\n                geometry: data.content[i].geometry,\n            };\n\n            features.features.push(feature);\n        }\n\n        //console.log(data.content)\n        //console.log(features);\n        return {\n            featureCollection: features,\n        };\n    }\n\n    //---------- * CONGRESSIONAL DISTRICTS * --------------\n    async fetchCongressionalDistrictByState(stateID) {\n        const data = await this.asyncFetch(this.baseUrl + 'congressionalDistrictsForState?stateId='.concat(stateID));\n\n        if (data.status != \"ok\") {\n            alert(\"server error: unable to get data\");\n            return;\n        }\n\n        let features = data.content.features\n        for (let i = 0; i < features.length; i++) {\n            let currFeature = features[i];\n            let properties = {\n                \"id\": currFeature.id,\n                \"name\": currFeature.name,\n                \"parentId\": currFeature.parentId,\n                \"childrenId\": currFeature.childrenId\n            }\n            //delete currFeature.id;\n            delete currFeature.name;\n            delete currFeature.parentId;\n            delete currFeature.childrenId;\n            currFeature[\"properties\"] = properties;\n        }\n\n        data.content.features = features;\n\n        return data.content;\n    }\n\n    async fetchAllCongressionalDistricts() {\n        const data = await this.asyncFetch(this.baseUrl + 'allCongressionalDistricts');\n\n        if (data.status != \"ok\") {\n            alert(\"server error: unable to get data\");\n            return;\n        }\n        //console.log(data.content)\n        return data.content;\n    }\n\n    //----t---------- * COUNTIES * ------------------\n    async fetchCountiesByState(stateID) {\n        const data = await this.asyncFetch(this.baseUrl + 'countiesInState?stateId='.concat(stateID));\n\n        if (data.status != \"ok\") {\n            alert(\"server error: unable to get data\");\n            return;\n        }\n\n        let featureCollection = {\n            type: \"FeatureCollection\",\n            features: [],\n        };\n\n        for (let i in data.content) {\n            let feature = {\n                type: \"Feature\",\n                properties: {\n                    name: data.content[i].name,\n                    id: data.content[i].countyId\n                },\n                id: data.content[i].countyId,\n                geometry: data.content[i].geometry,\n            };\n\n            featureCollection.features.push(feature);\n        }\n\n        return featureCollection;\n    }\n\n    //------------ * PRECINCTS * ----------------\n    async fetchShapeOfPrecinctsByCounty(countyID) {\n        const data = await this.asyncFetch(this.baseUrl + 'shapeOfPrecinctByCounty?countyId='.concat(countyID));\n\n        if (data.status != \"ok\") {\n            console.log(data)\n            alert(\"server error: unable to get precinct shapes\");\n            return;\n        }\n\n        let featureCollection = {\n            type: \"FeatureCollection\",\n            features: [],\n        };\n\n        for (let i in data.content) {\n            let f = {\n                type: \"Feature\",\n                properties: {\n                    id: data.content[i].id\n                },\n                geometry: data.content[i].geometry,\n                id: data.content[i].id\n            };\n            featureCollection.features.push(f);\n        }\n\n        console.log(featureCollection)\n\n        return featureCollection\n    }\n\n    async fetchPrecinctShape(precinctId) {\n        const data = await this.asyncFetch(this.baseUrl + 'shapeOfPrecinct?precinctId='.concat(precinctId));\n\n        if (data.status != \"ok\") {\n            console.log(data)\n            alert(\"server error: unable to get precinct shapes\");\n            return;\n        }\n\n        let featureCollection = {\n            type: \"FeatureCollection\",\n            features: [],\n        };\n\n        let f = {\n            type: \"Feature\",\n            properties: {\n                id: data.content.id\n            },\n            geometry: data.content.geometry,\n            id: data.content.id\n        };\n        featureCollection.features.push(f);\n\n        return featureCollection;\n    }\n\n    async fetchPrecinctInfo(precinctId) {\n        const data = await this.asyncFetch(this.baseUrl + 'precinctInfo?precinctId='.concat(precinctId));\n\n        if (data.status != \"ok\") {\n            console.log(data);\n            alert(\"server error : unable to get precinct info\");\n            return\n        }\n\n        return data.content;\n    }\n\n    async addPrecinctNeighbor(precinctId1, precinctId2) {\n        const response = await this.asyncFetch(this.baseUrl + 'addPrecinctNeighbor?precinctId1='.concat(precinctId1) + '&precinctId2='.concat(precinctId2));\n\n        if (response.status != \"ok\") {\n            console.log(response);\n            alert(\"server error : unable to add\" + precinctId1 + \" and \" + precinctId2 + \" as neighbor\");\n            return\n        }\n\n        return response;\n    }\n\n    async deletePrecinctNeighbor(precinctId1, precinctId2) {\n        const response = await this.asyncFetch(this.baseUrl + 'deletePrecinctNeighbor?precinctId1='.concat(precinctId1) + '&precinctId2='.concat(precinctId2));\n\n        if (response.status != \"ok\") {\n            console.log(response);\n            alert(\"server error : unable to delete\" + precinctId1 + \" and \" + precinctId2 + \" as neighbor\");\n            return\n        }\n\n        return response;\n    }\n\n    async mergePrecinct(precinctId1, precinctId2) {\n        const response = await this.asyncFetch(this.baseUrl + 'mergePrecinct?precinctId1='.concat(precinctId1) + '&precinctId2='.concat(precinctId2));\n\n        if (response.status != \"ok\") {\n            console.log(response);\n            alert(\"server error : unable to merge\" + precinctId1 + \" and \" + precinctId2);\n            return\n        }\n\n        return response;\n    }\n\n    async fetchAllPrecinctError() {\n        const data = await this.asyncFetch(this.baseUrl + \"getAllError\");\n\n        if (data.status != \"ok\") {\n            console.log(data);\n            alert(\"server error : unable to get precinctErrors\");\n            return\n        }\n\n        return data.content;\n    }\n\n}\n\nexport default AppData;","export const countyDataLayerFillable = {\n    id: 'countyFill',\n    type: 'fill',\n    paint: {\n        'fill-color': '#0779e4',\n        'fill-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            0.6,\n            0.3\n        ]\n    },\n};\n\nexport const countyDataLayerOutline = {\n    id: 'countyOutline',\n    type: 'line',\n    paint: {\n        'line-color': '#000000',\n        'line-width': 2,\n        'line-opacity': 0.4\n    },\n    layout: {\n        'line-join': 'round'\n    }\n};\n\nexport const countyDataLayerFillableHighlight = {\n    id: 'countyFillHighlighted',\n    type: 'fill',\n    source: 'countyFill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.5)',\n    },\n};","export const stateLayerFill = {\n    id: 'stateFill',\n    type: 'fill',\n    paint: {\n        'fill-color': '#0779e4',\n        'fill-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            .75,\n            0.5\n        ]\n    },\n};\n\nexport const stateLayerOutline = {\n    id: 'stateOutline',\n    type: 'line',\n    paint: {\n        'line-color': '#000000',\n        'line-width': 2,\n        //'line-dasharray': [1, 0.5, 1],\n        'line-opacity': 0.4\n    },\n    layout: {\n        'line-join': 'round'\n    }\n};\n\nexport const stateLayerFillHighlight = {\n    id: 'stateFillHighlighted',\n    type: 'fill',\n    source: 'stateFill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.5)',\n    },\n};","// precinct red #900c3f' = rgb(144, 12, 63)\n\nexport const precinctLayerFill = {\n    id: 'precinctFill',\n    type: 'fill',\n    paint: {\n        //'fill-color': ['case', ['boolean', ['feature-state', 'neighbor'], false], '#61366C', '#900c3f'],\n        'fill-color': ['case',\n            ['boolean', ['feature-state', 'neighbor'], false],\n            'rgba(144, 12, 63, 0.9)',\n            ['boolean', ['feature-state', 'selected'], false],\n            'rgba(144, 12, 63, 1.0)',\n            'rgba(144, 12, 63, 0.8)'],\n        'fill-opacity':\n            ['case',\n                ['boolean', ['feature-state', 'selected'], false],\n                0.9,\n                ['boolean', ['feature-state', 'hover'], false],\n                0.8,\n                ['boolean', ['feature-state', 'neighbor'], false],\n                0.6,\n                0.4\n            ]\n    }\n};\n\nexport const precinctLayerOutline = {\n    id: 'precinctOutline',\n    //source: 'precinctFill',\n    type: 'line',\n    paint: {\n        'line-color': '#000000',\n        //'line-color': ['case', ['boolean', ['feature-state', 'neighbor'], false], '#FFFFFF', '#000000'],\n        'line-opacity': 0.5,\n        'line-width': 2\n        //'line-width': ['case', ['boolean', ['feature-state', 'neighbor'], false], 5, 2],\n    },\n    layout: {\n        'line-join': 'round'\n    }\n};\n\nexport const precinctLayerFillHighlight = {\n    id: 'precinctFillHighlighted',\n    type: 'fill',\n    source: 'precinctFill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.5)',\n    },\n};","export const congressionalLayerFill = {\n    id: 'congressionalFill',\n    type: 'fill',\n    paint: {\n        'fill-color': '#27496d',\n        'fill-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            0.6,\n            0.4\n        ]\n    },\n};\n\nexport const congressionalLayerOutline = {\n    id: 'congressionalOutline',\n    type: 'line',\n    paint: {\n        'line-color': '#FFFFFF',\n        'line-width': 4,\n        //'line-dasharray': [2, 1, 2],\n        'line-opacity': 0.5,\n        //'line-gap-width': 0.5\n    },\n    layout: {\n        'line-join': 'round'\n    }\n};\n\nexport const congressionalLayerFillHighlight = {\n    id: 'congressionalFillHighlighted',\n    type: 'fill',\n    source: 'congressionalFill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.5)',\n    },\n};","import React, { PureComponent } from 'react';\nimport { Marker } from 'react-map-gl';\nimport { precinctLayerFill } from '../../layers/PrecinctLayer';\n\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\n\nconst SIZE = 20;\n\n// Important for perf: the markers never change, avoid rerender when the map viewport changes\n/**\n * @props appData : API\n * @props shouldShowPins\n * @props mapRef : map\n * @props allErrors : callback for apps to handle the errors\n */\nexport default class Pins extends PureComponent {\n\n    // getAllErrors() {\n    //     this.props.appData.fetchAllPrecinctError().then((data) => {\n    //         console.log(data);\n    //         let precinctId = [];\n    //         for (let i in data) {\n    //             if (data[i].precinctId) {\n    //                 precinctId.push(data[i].precinctId);\n    //             }\n    //         }\n    //     });\n    // }\n\n    render() {\n        //this.getAllErrors();\n        const { data, onClick, shouldShowPins } = this.props;\n        console.log(shouldShowPins);\n        if (shouldShowPins) {\n            console.log(\"should show pins\");\n            return data.map((city, index) => (\n                <Marker key={`marker-${index}`} longitude={city.longitude} latitude={city.latitude}>\n                    <svg\n                        height={SIZE}\n                        viewBox=\"0 0 24 24\"\n                        style={{\n                            cursor: 'pointer',\n                            fill: '#d00',\n                            stroke: 'none',\n                            transform: `translate(${-SIZE / 2}px,${-SIZE}px)`\n                        }}\n                        onClick={() => onClick(city)}\n                    >\n                        <path d={ICON} />\n                    </svg>\n                </Marker>\n            ));\n        } else {\n            return (<span></span>);\n        }\n\n    }\n}","import React, { PureComponent } from 'react';\n\nexport default class ErrorInfo extends PureComponent {\n    render() {\n        const { info } = this.props;\n\n        return (\n            <div>\n                <h3>Map Error</h3>\n                <br />\n                <p style={{ textAlign: 'left' }}>\n                    Type: {info.type}\n                    <br />\n                    Source: {info.from}\n                </p>\n            </div >\n        );\n    }\n}","import React, { Component } from \"react\";\n\nimport Dropdown from \"react-bootstrap/Dropdown\";\n\nclass StateSelector extends Component {\n  render() {\n    return (\n      <Dropdown>\n        <Dropdown.Toggle variant=\"info\" id=\"dropdown-basic\">\n          Select State\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu>\n          <Dropdown.Item\n            href=\"#/NewYork\"\n            onClick={this.props.select_state(\"NY\")}\n          >\n            New York\n          </Dropdown.Item>\n          <Dropdown.Item href=\"#/Utah\" onClick={this.props.select_state(\"UT\")}>\n            Utah\n          </Dropdown.Item>\n          <Dropdown.Item\n            href=\"#/Wisconsin\"\n            onClick={this.props.select_state(\"WI\")}\n          >\n            Wisconsin\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n  }\n}\n\nexport default StateSelector;\n","import React, { Component } from 'react';\n\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\n\n\nclass ElectionDisplayBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            votingData: props.votingData,\n            election: 2016,\n            presidental: undefined,\n            congressional: undefined\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.votingData !== prevState.votingData) {\n            return {\n                votingData: nextProps.votingData,\n                presidental: undefined,\n                congressional: undefined\n            };\n        }\n        else {\n            return null;\n        }\n    }\n\n    getAllElection() {\n        let elections = this.state.votingData;\n        if (elections === undefined) {\n            return undefined;\n        }\n        else {\n            let allElections = Object.keys(elections.electionData);\n            if (allElections.length === 0) {\n                return undefined;\n            }\n            else {\n                return allElections;\n            }\n        }\n    }\n\n    getResults(year) {\n        let elections = this.state.votingData;\n        if (elections === undefined) {\n\n        }\n        else {\n            let allElections = Object.keys(elections.electionData);\n            let electionInYear = [];\n            for (let i in allElections) {\n                if (allElections[i].includes(year.toString())) {\n                    electionInYear.push(allElections[i]);\n                }\n            }\n\n            let ans = {};\n            let result = elections.electionData;\n            for (let i in electionInYear) {\n                ans[electionInYear[i]] = result[electionInYear[i]].resultsByParty;\n            }\n            return ans;\n        }\n    }\n\n    changeElection(year) {\n        let resultInYear = this.getResults(year);\n        let resultInYearKey = Object.keys(resultInYear);\n        this.setState({\n            election: year,\n            presidental: undefined,\n            congressional: undefined\n        });\n        for (let i in resultInYearKey) {\n            if (resultInYearKey[i].includes(\"PRES\")) {\n                this.setState({\n                    presidental: resultInYear[resultInYearKey[i]]\n                });\n            }\n            else if (resultInYearKey[i].includes(\"CONG\"))\n                this.setState({\n                    congressional: resultInYear[resultInYearKey[i]]\n                });\n        }\n    }\n\n    yearButtons(allElection) {\n        if (allElection) {\n            let years = [];\n            for (let i in allElection) {\n                let year = allElection[i].substring(4, 9);\n                if (!years.includes(year)) {\n                    years.push(year);\n                }\n            }\n\n            let buttonList = [];\n            for (let i in years) {\n                buttonList.push(<Button variant=\"outline-primary\" id={\"btn\" + i.toString()} className=\"button\" onClick={this.changeElection.bind(this, parseInt(years[i]))}>{years[i]}</Button>);\n            }\n            return buttonList;\n        }\n        else {\n            return undefined;\n        }\n    }\n\n    render() {\n        let allElection = this.getAllElection();\n        if (allElection !== undefined && (this.state.presidental === undefined && this.state.congressional === undefined)) {\n            this.changeElection(allElection[0].substring(4, 9));\n        }\n\n        const { presidental } = this.state;\n        const { congressional } = this.state;\n\n        if (presidental !== undefined && congressional !== undefined) {\n            return (\n                <div>\n                    <ButtonGroup size=\"sm\" className=\"mt-3\">\n                        {this.yearButtons(allElection)}\n                    </ButtonGroup>\n                    <br />\n                    <hr />\n                    Presidential:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar Demographic\" style={{ width: presidental[\"DEMOCRAT\"] + '%' }}>\n                            {'Democrat\\n' + presidental[\"DEMOCRAT\"]}\n                        </div>\n                        <div className=\"RedBar Replublican\" style={{ width: presidental[\"REPUBLICAN\"] + '%' }}>\n                            {'Republican\\n' + presidental[\"REPUBLICAN\"]}\n                        </div>\n                        <div className=\"GreenBar Libratarian\" style={{ width: presidental[\"LIBRATARIAN\"] + '%' }}>\n                            {'Libratarian\\n' + presidental[\"LIBRATARIAN\"]}\n                        </div>\n                        <div className=\"YellowBar Other\" style={{ width: presidental[\"OTHER\"] + '%' }}>\n                            {'Other\\n' + presidental[\"OTHER\"]}\n                        </div>\n                    </div>\n                    <br />\n                    <hr />\n                    Congressional:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar Demographic\" style={{ width: congressional[\"DEMOCRAT\"] + '%' }}>\n                            {'Democrat\\n' + congressional[\"DEMOCRAT\"]}\n                        </div>\n                        <div className=\"RedBar Replublican\" style={{ width: congressional[\"REPUBLICAN\"] + '%' }}>\n                            {'Republican\\n' + congressional[\"REPUBLICAN\"]}\n                        </div>\n                        <div className=\"GreenBar Libratarian\" style={{ width: congressional[\"LIBRATARIAN\"] + '%' }}>\n                            {'Libratarian\\n' + congressional[\"LIBRATARIAN\"]}\n                        </div>\n                        <div className=\"YellowBar Other\" style={{ width: congressional[\"OTHER\"] + '%' }}>\n                            {'Other\\n' + congressional[\"OTHER\"]}\n                        </div>\n                    </div>\n                    <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n                </div>\n            );\n        }\n        else if (presidental !== undefined && congressional === undefined) {\n            return (\n                <div>\n                    <ButtonGroup size=\"sm\" className=\"mt-3\">\n                        {this.yearButtons(allElection)}\n                    </ButtonGroup>\n                    <br />\n                    <hr />\n                    Presidential:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar Demographic\" style={{ width: presidental[\"DEMOCRAT\"] + '%' }}>\n                            {'Democrat\\n' + presidental[\"DEMOCRAT\"]}\n                        </div>\n                        <div className=\"RedBar Replublican\" style={{ width: presidental[\"REPUBLICAN\"] + '%' }}>\n                            {'Republican\\n' + presidental[\"REPUBLICAN\"]}\n                        </div>\n                        <div className=\"GreenBar Libratarian\" style={{ width: presidental[\"LIBRATARIAN\"] + '%' }}>\n                            {'Libratarian\\n' + presidental[\"LIBRATARIAN\"]}\n                        </div>\n                        <div className=\"YellowBar Other\" style={{ width: presidental[\"OTHER\"] + '%' }}>\n                            {'Other\\n' + presidental[\"OTHER\"]}\n                        </div>\n                    </div>\n                    <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n                </div>\n            );\n        }\n        else if (presidental === undefined && congressional !== undefined) {\n            return (\n                <div>\n                    <ButtonGroup size=\"sm\" className=\"mt-3\">\n                        {this.yearButtons(allElection)}\n                    </ButtonGroup>\n                    <br />\n                    <hr />\n                    Congressional:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar Demographic\" style={{ width: congressional[\"DEMOCRAT\"] + '%' }}>\n                            {'Democrat\\n' + congressional[\"DEMOCRAT\"]}\n                        </div>\n                        <div className=\"RedBar Replublican\" style={{ width: congressional[\"REPUBLICAN\"] + '%' }}>\n                            {'Republican\\n' + congressional[\"REPUBLICAN\"]}\n                        </div>\n                        <div className=\"GreenBar Libratarian\" style={{ width: congressional[\"LIBRATARIAN\"] + '%' }}>\n                            {'Libratarian\\n' + congressional[\"LIBRATARIAN\"]}\n                        </div>\n                        <div className=\"YellowBar Other\" style={{ width: congressional[\"OTHER\"] + '%' }}>\n                            {'Other\\n' + congressional[\"OTHER\"]}\n                        </div>\n                    </div>\n                    <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n                </div>\n            );\n        }\n        else {\n            return (\n                <div>\n                    No ElectionData\n                </div>\n            );\n        }\n    }\n}\n\nexport default ElectionDisplayBar;","import React, { PureComponent } from 'react';\n\nimport Table from 'react-bootstrap/Table';\n\n/**\n * @prop demogrpahicData: demographicData\n * \n */\nclass DemographicsTable extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.total = 0;\n    }\n\n    calculateTotal() {\n        if (this.props.demographicData) {\n            let total = 0;\n            let value = this.props.demographicData.demographic;\n            for (let i in value) {\n                total += value[i];\n            }\n            this.total = total\n        }\n    }\n\n    getPopulation(race) {\n        if (this.props.demographicData) {\n            let demographic = this.props.demographicData.demographic;\n            return demographic[race];\n        }\n        else {\n            return 0;\n        }\n\n    }\n\n    getPercentage(race) {\n        if (this.props.demographicData) {\n            let demographic = this.props.demographicData.demographic;\n            if (demographic[race] === 0) {\n                return 0;\n            }\n            else {\n                return (demographic[race] / this.state.total) * 100;\n            }\n        }\n        else {\n            return 0;\n        }\n\n    }\n\n\n    render() {\n        this.calculateTotal();\n        //console.log(this.props.demographicData);\n        return (\n            <div>\n                <Table striped bordered hover size=\"sm\">\n                    <thead>\n                        <tr>\n                            <th>Race</th>\n                            <th>Num</th>\n                            {/* <th>Percent</th> */}\n                        </tr>\n                    </thead>\n                    <tbody className=\"text-left\">\n                        <tr>\n                            <th>White</th>\n                            <td>{this.getPopulation(\"WHITE\")}</td>\n                            {/* <td>{this.getPercentage(\"WHITE\")}%</td> */}\n                        </tr>\n                        <tr>\n                            <th>Black</th>\n                            <td>{this.getPopulation(\"BLACK\")}</td>\n                            {/* <td>{this.getPercentage(\"BLACK\")}%</td> */}\n                        </tr>\n                        <tr>\n                            <th>Native_American</th>\n                            <td>{this.getPopulation(\"NATIVE_AMERICAN\")}</td>\n                            {/* <td>{this.getPercentage(\"NATIVE_AMERICAN\")}%</td> */}\n                        </tr>\n                        <tr>\n                            <th>Asian</th>\n                            <td>{this.getPopulation(\"ASIAN\")}</td>\n                            {/* <td>{this.getPercentage(\"ASIAN\")}%</td> */}\n                        </tr>\n                        <tr>\n                            <th>Native_Hawaiian</th>\n                            <td>{this.getPopulation(\"NATIVE_HAWAIIAN\")}</td>\n                            {/* <td>{this.getPercentage(\"NATIVE_HAWAIIAN\")}%</td> */}\n                        </tr>\n                        <tr>\n                            <th>Other</th>\n                            <td>{this.getPopulation(\"OTHER\")}</td>\n                            {/* <td>{this.getPercentage(\"OTHER\")}%</td> */}\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colSpan=\"1\">Total Population</th>\n                            <td>{this.total}</td>\n                            {/* <td>100%</td> */}\n                        </tr>\n                    </tfoot>\n                </Table>\n                <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n            </div>\n        );\n    }\n}\n\nexport default DemographicsTable;","import React, { Component } from 'react';\n\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form'\n\n\n\nclass DataCorrectionPage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    save_changes() {\n        this.dismiss();\n    }\n\n    dismiss() {\n        this.props.data_correction_page_status(\"done\");\n    }\n\n\n    render() {\n        return (\n            <div className=\"data_correction_page\">\n                <h4>Data Correction Form</h4>\n                <Form>\n                    <Form.Group controlId=\"data_correction.target_data\">\n                        <Form.Label>Data for correction</Form.Label>\n                        <Form.Control as=\"select\">\n                            <option>Demographic</option>\n                            <option>Election</option>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"data_correction.value\">\n                        <Form.Label>Changed Value</Form.Label>\n                        <Form.Control type=\"value\" placeholder=\"Please enter corrected data\" />\n                    </Form.Group>\n                </Form>\n                <div className=\"data_correction_Btns\">\n                    <Button variant=\"outline-primary\" id=\"data_change\" onClick={() => { this.save_changes() }}>Change</Button>\n                    <Button variant=\"outline-primary\" id=\"data_change_cancel\" onClick={() => { this.dismiss() }}>Cancel</Button>\n                </div>\n                <br />\n            </div>\n        );\n    }\n}\n\nexport default DataCorrectionPage;","import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button'\n\n\n/**\n * @props selectedFeature = currentSelectedFeature from Apps\n * @props modify_neighbors_page_status = callback for sending PrecinctSelectionMode for Apps\n * @props precinctSelectedForEdit = a precinct that user selected for editions \n * @props appData = API\n */\nclass ModifyNeighbors extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mode: \"default\",\n            dynamicAddNeighbor: false\n        }\n    }\n\n    getAllNeighbors() {\n        let currentFeature = this.props.selectedFeature;\n        let neighbors = currentFeature.properties.neighborsId;\n        let r = [];\n        for (let i in neighbors) {\n            r.push(<li>{neighbors[i]}</li>);\n        }\n        return r;\n    }\n\n    switchMode(mode) {\n        this.setState({\n            mode: mode\n        });\n        this.props.modify_neighbors_page_status(mode);\n    }\n\n\n    saveAction() {\n        let mode = this.state.mode;\n        let targetPrecinct = this.props.selectedFeature.id;\n        let precinctsForEdit = this.props.precinctSelectedForEdit;\n        if (mode === \"add\") {\n            this.setState({\n                mode: \"default\"\n            });\n            if (precinctsForEdit) {\n                this.props.appData.addPrecinctNeighbor(targetPrecinct, precinctsForEdit).then((respond) => {\n                    console.log(respond);\n                    this.dynamicAddNeighborId(precinctsForEdit);\n                    this.forceUpdate();\n                });\n            }\n            this.props.modify_neighbors_page_status(\"default\");\n        }\n        else {\n            this.setState({\n                mode: \"default\"\n            });\n            if (precinctsForEdit) {\n                this.props.appData.deletePrecinctNeighbor(targetPrecinct, precinctsForEdit).then((respond) => {\n                    console.log(respond);\n                    this.dynamicDeleteNeighborId(precinctsForEdit);\n                    this.forceUpdate();\n                });\n            }\n            this.props.modify_neighbors_page_status(\"default\");\n        }\n    }\n\n    dynamicAddNeighborId(newId) {\n        this.props.selectedFeature.properties.neighborsId.push(newId.toString().trim());\n    }\n\n    dynamicDeleteNeighborId(deletedId) {\n        let oldNeighbors = this.props.selectedFeature.properties.neighborsId;\n        let newNeighbors = [];\n        for (let i in oldNeighbors) {\n            if (oldNeighbors[i].toString().trim() !== deletedId.toString().trim()) {\n                newNeighbors.push(oldNeighbors[i]);\n            }\n        }\n        this.props.selectedFeature.properties.neighborsId = newNeighbors;\n    }\n\n    render() {\n        const { mode } = this.state;\n        if (mode === \"default\") {\n            return (\n                <div>\n                    <br />\n                    <Button id=\"addButton\" variant=\"primary\" onClick={(evt) => { this.switchMode(\"add\") }}>Add Neighbor</Button>\n                    <br />\n                    <Button id=\"deleteButton\" variant=\"danger\" onClick={(evt) => { this.switchMode(\"delete\") }}>Delete Neighbor</Button>\n                    <br />\n                    <hr />\n                    <h5>Current Neighbors</h5>\n                    <div>\n                        <ul>{this.getAllNeighbors()}</ul>\n                    </div>\n                    <br />\n                </div>\n            );\n        }\n        else if (mode === \"add\") {\n            return (\n                <div>\n                    <br />\n                    <h5>Add Nieghbors</h5>\n                    <hr />\n                    <p>Please select precincts from the map to add as neighbor</p>\n                    <hr />\n                    <span>Current Selected Precincts</span>\n                    <ul>\n                        <li>{this.props.precinctSelectedForEdit}</li>\n                    </ul>\n                    <hr />\n                    <Button id=\"saveButton_add\" variant=\"success\" onClick={(evt) => { this.saveAction() }}>Save Changes</Button>\n                    <br />\n                </div >\n            );\n        }\n        else if (mode === \"delete\") {\n            return (\n                <div>\n                    <br />\n                    <h5>Delete Nieghbors</h5>\n                    <hr />\n                    <p>Please select neighbors from the map to delete</p>\n                    <hr />\n                    <span>Current Selected Precincts</span>\n                    <ul>\n                        <li>{this.props.precinctSelectedForEdit}</li>\n                    </ul>\n                    <hr />\n                    <Button id=\"saveButton_del\" variant=\"success\" onClick={(evt) => { this.saveAction() }}>Save Changes</Button>\n                    <br />\n                </div>\n            );\n        }\n    }\n\n}\n\nexport default ModifyNeighbors;","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card';\n\nclass Comments extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            comments: []\n        };\n    }\n\n    componentDidMount() {\n        this.get_comments();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.savedCommentData !== this.props.savedCommentData) {\n            this.get_saved_comments();\n        }\n    }\n\n    //Dynamically shows saved comments from comment modal\n    get_saved_comments() {\n        console.log(\"________________\", this.props.savedCommentData)\n        if (this.props.savedCommentData) {\n            this.setState((state) => {\n                let new_comments = state.comments;\n                new_comments.push(this.props.savedCommentData);\n                return { comments: new_comments }\n            });\n        }\n    }\n\n    // this is just for the presentation\n    get_comments() {\n        let numComments = Math.ceil(Math.random() * 3);\n        let commenter = [\"David\", \"Ilan\", \"Reed\", \"Sam\"];\n        let content = [\"Some comment about changing the election data b/c old source was invalid.\", \"Some comment about undoing the yesterdays changes done to the boundaries of the Albany county of NY.\", \"Some test comment.\", \"Another test comment.\"];\n        let comments = [];\n        for (let i = 0; i < numComments; i++) {\n            let comment = {\n                commenter: commenter[Math.round(Math.random() * 3)],\n                content: content[Math.round(Math.random() * 3)]\n            }\n            comments.push(comment);\n        }\n        this.setState({ comments: comments });\n    }\n\n    render() {\n        const { comments } = this.state;\n        const displayed_comments = [];\n        for (let i in comments) {\n            displayed_comments.push(\n                <Card>\n                    <Card.Body>\n                        {comments[i].commenter}{\": \"}{comments[i].content}\n                    </Card.Body>\n                </Card>\n            );\n        }\n\n        return (\n            <div >\n                {displayed_comments}\n            </div >\n        );\n    }\n}\n\nexport default Comments;","import React, { Component } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\n\nclass CommentModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false\n        };\n    }\n\n    //display is boolean\n    handle_modal_display(display) {\n        this.setState({ show: display });\n    }\n\n    saveCommentData(user, text) {\n        let comment_data = {\n            commenter: user,\n            content: text\n        };\n        this.props.savedCommentData(comment_data);\n    }\n\n    render() {\n        const { show } = this.state;\n        return (\n            <div>\n                <Button variant=\"primary\" onClick={() => { this.handle_modal_display(true) }}>Create Comment</Button>\n                <Modal show={show} onHide={() => { this.handle_modal_display(false) }}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Enter comment</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <input id=\"commentModalInput\" placeholder=\" Please enter your comments here\"></input>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => { this.handle_modal_display(false) }}>Cancel</Button>\n                        <Button variant=\"primary\" onClick={() => {\n                            this.handle_modal_display(false);\n                            this.saveCommentData(\"User\", document.getElementById(\"commentModalInput\").value);\n                        }}>Save Comment</Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default CommentModal;","import React, { Component } from 'react';\n\nimport Button from 'react-bootstrap/Button'\n\n\n/**\n * @props selectedFeature = currentSelectedFeature from Apps\n * @props precinctSelectedForEdit = a precinct that user selected for editions \n * @props appData = API\n */\nclass MergePrecinct extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        }\n    }\n\n    mergeAction() {\n        let precinctsForEdit = this.props.precinctSelectedForEdit;\n        if (precinctsForEdit) {\n            alert(\"Merge\" + this.props.selectedFeature + \" and \" + precinctsForEdit);\n            this.props.appData.mergePrecinct(11790, 11791);\n        }\n    }\n\n\n\n    render() {\n        return (\n            <div>\n                <br />\n                <p>Please select a precinct on map to merge</p>\n                <hr />\n                <ul>\n                    <li>{this.props.precinctSelectedForEdit}</li>\n                </ul>\n                <hr />\n                <Button id=\"mergeBtn\" variant=\"success\" onClick={(evt) => { this.mergeAction() }}>MergePrecinct</Button>\n            </div >\n        );\n    }\n}\n\nexport default MergePrecinct;","import React, { Component } from 'react';\n\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\n\n\n/**\n * @props appData : api\n */\nclass MapErrors extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedErrorType: \"All\"\n        }\n    }\n\n    // createErrorList() {\n    //     let allError = this.props.allErrors;\n    //     let errorList = [];\n    //     for (let i in allError) {\n    //         errorList.push(<ListGroup.Item onClick={() => this.props.errorListOnClick(allError[i])}> {allError[i].errorType + \" \" + allError[i].precinctId}</ListGroup.Item >);\n    //     }\n    //     return errorList;\n    // }\n\n    changeErrorType(type) {\n        this.setState({\n            selectedErrorType: type\n        });\n    }\n\n    createErrorListByType() {\n        let allError = this.props.allErrors;\n        let errorList = [];\n        let selectedErrorType = this.state.selectedErrorType;\n        if (selectedErrorType === \"All\") {\n            for (let i in allError) {\n                errorList.push(<ListGroup.Item onClick={() => this.props.errorListOnClick(allError[i])}> {allError[i].errorType + \" \" + allError[i].precinctId}</ListGroup.Item >);\n            }\n        }\n        else if (selectedErrorType === \"NO_VOTER\") {\n            for (let i in allError) {\n                if (allError[i].errorType === \"NO_VOTER\") {\n                    errorList.push(<ListGroup.Item onClick={() => this.props.errorListOnClick(allError[i])}> {allError[i].errorType + \" \" + allError[i].precinctId}</ListGroup.Item >);\n                }\n            }\n        }\n        else if (selectedErrorType === \"NO_DEMOGRAPIHIC\") {\n            for (let i in allError) {\n                if (allError[i].errorType === \"NO_DEMOGRAPIHIC\") {\n                    errorList.push(<ListGroup.Item onClick={() => this.props.errorListOnClick(allError[i])}> {allError[i].errorType + \" \" + allError[i].precinctId}</ListGroup.Item >);\n\n                }\n            }\n        }\n        else if (selectedErrorType === \"GHOST\") {\n            for (let i in allError) {\n                if (allError[i].errorType === \"GHOST\") {\n                    errorList.push(<ListGroup.Item onClick={() => this.props.errorListOnClick(allError[i])}> {allError[i].errorType + \" \" + allError[i].precinctId}</ListGroup.Item >);\n                }\n            }\n        }\n        else if (selectedErrorType === \"OVERLAP\") {\n            for (let i in allError) {\n                if (allError[i].errorType === \"OVERLAP\") {\n                    errorList.push(<ListGroup.Item onClick={() => this.props.errorListOnClick(allError[i])}> {allError[i].errorType + \" \" + allError[i].precinctId}</ListGroup.Item >);\n                }\n            }\n        }\n        else if (selectedErrorType === \"INTERSECTING\") {\n            for (let i in allError) {\n                if (allError[i].errorType === \"INTERSECTING\") {\n                    errorList.push(<ListGroup.Item onClick={() => this.props.errorListOnClick(allError[i])}> {allError[i].errorType + \" \" + allError[i].precinctId}</ListGroup.Item >);\n                }\n            }\n        }\n        return errorList;\n    }\n\n    render() {\n        return (\n            <div>\n                Errors\n                <hr />\n                <DropdownButton title={this.state.selectedErrorType}>\n                    <Dropdown.Item as=\"button\" onClick={() => this.changeErrorType(\"All\")}>All</Dropdown.Item>\n                    <Dropdown.Item as=\"button\" onClick={() => this.changeErrorType(\"NO_VOTER\")} > No voters</Dropdown.Item>\n                    <Dropdown.Item as=\"button\" onClick={() => this.changeErrorType(\"NO_DEMOGRAPIHIC\")} > No demographic</Dropdown.Item>\n                    <Dropdown.Item as=\"button\" onClick={() => this.changeErrorType(\"GHOST\")}> Ghost</Dropdown.Item>\n                    <Dropdown.Item as=\"button\" onClick={() => this.changeErrorType(\"OVERLAP\")} > Overlap</Dropdown.Item>\n                    <Dropdown.Item as=\"button\" onClick={() => this.changeErrorType(\"INTERSECTING\")}> Intersecting</Dropdown.Item>\n                </DropdownButton>\n                <ListGroup>\n                    {this.createErrorListByType()}\n                </ListGroup>\n                <hr />\n            </div >\n\n        );\n    }\n}\nexport default MapErrors;","import React, { Component } from 'react';\n\nimport Collapsible from 'react-collapsible';\n\nimport ElectionDisplayBar from './ElectionDisplayBar';\nimport DemographicsTable from './DemographicsTable';\nimport DataCorrectionPage from './DataCorrectionPage';\nimport ModifyNeighbors from './ModifyNeighbors';\nimport Comments from './Comments';\nimport CommentModal from './CommentModal';\nimport MergePrecinct from './MergePrecinct';\nimport MapErrors from './MapErrors';\n/**\n * Our sidebar component\n * @props selected: the currently selected map feature\n * @props showErrorPins: function to show or hide error pins\n * @props userMode :  current user mode\n * @props leftSideBarStatus : for returning status of the leftSideBar\n * @props precinctSelectedForEdit : a precinct that user selected for editions \n * @props appData : API\n */\nclass LeftSidebar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mode: \"data_display\",\n            comment_data: undefined\n        }\n    }\n\n    createList = () => {\n        let list = [];\n        //console.log(this.props.selected);\n        const feature = this.props.selected; //the selected feature\n        if (feature) {\n            const properties = feature.properties;\n            for (const p in properties) {\n                if (p !== \"demographicData\" && p !== \"precinctError\" && p !== \"votingData\") {\n                    list.push(<div className=\"text-left\">{`${p}: ${properties[p]}`}</div>);\n                }\n            }\n            // list.push(<div>State: {properties['name']}</div>);\n        }\n        return list;\n    }\n\n    //For data correction page to return page_status\n    get_data_correction_page_status = (page_status) => {\n        if (page_status === \"done\") {\n            this.setState({ mode: \"data_display\" });\n        }\n    }\n\n    get_modify_neighbors_page_status = (page_status) => {\n        if (page_status !== \"default\") {\n            // send the precinct Selection Mode back to the Apps\n            this.props.leftSideBarStatus(\"precinct_selection_to_edit\");\n        }\n        else if (page_status === \"default\") {\n            this.props.leftSideBarStatus(\"saveRequested\");\n        }\n        else {\n            this.props.leftSideBarStatus()\n        }\n    }\n\n    get_mapErrorList_onClick = (errorData) => {\n        this.props.errorListOnClick(errorData);\n    }\n\n\n\n    get_comments_modal_data = (comment_modal_data) => {\n        if (comment_modal_data) {\n            this.setState({ comment_data: comment_modal_data });\n        }\n    }\n\n    _handleClick = event => {\n        this.props.showErrorPins();\n    }\n\n    // makeHeader() {\n    //     const feature = this.props.selected;\n\n    //     if (feature && feature.properties && feature.properties.type) {\n    //         //let name = feature.properties.name || feature.properties.NAME || feature.properties.GEOID10 || feature.properties.NAMELSAD\n    //         let type = feature.properties.type;\n    //     }\n    // }\n\n    render() {\n        // const { mode } = this.state;\n        const { userMode } = this.props;\n        const { comment_data } = this.state;\n        const list = this.createList();\n        let selectedFeatureType = this.props.selected ? this.props.selected.properties.type : undefined;\n        const selectedFeature = this.props.selected;\n\n        let keys = 0;\n\n        if (list.length > 0) {\n            if (userMode === \"View\") {\n                return (\n                    <div style={{ textAlign: 'left' }}>\n                        <Collapsible trigger=\"General Info\" open={true}>\n                            <div style={{ marginLeft: '5px' }}>\n                                {list}\n                            </div>\n                        </Collapsible>\n                        <Collapsible trigger=\"Elections\">\n                            {(selectedFeature.properties.type === \"Precinct\" && <ElectionDisplayBar\n                                votingData={selectedFeature.properties.votingData}\n                            />) ||\n                                <div>select a precinct to view elections</div>}\n                        </Collapsible>\n                        <Collapsible trigger=\"Demographics\">\n                            {(selectedFeature.properties.type === \"Precinct\" && <DemographicsTable\n                                demographicData={selectedFeature.properties.demographicData}\n                            />) ||\n                                <div>select a precinct to view demographics</div>}\n                        </Collapsible>\n                        {/* <Collapsible trigger=\"Comments\">\n                            <Comments savedCommentData={comment_data} />\n                            <br />\n                            <CommentModal savedCommentData={this.get_comments_modal_data} />\n                            <br />\n                        </Collapsible> */}\n                        <Collapsible trigger=\"Map Errors\">\n                            <MapErrors\n                                selectedFeature={this.props.selected}\n                                allErrors={this.props.allErrors}\n                                errorListOnClick={this.get_mapErrorList_onClick}\n                            />\n                            {/* <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View All</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Self Intersecting Boundaries</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Open Borders</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Gaps in Precinct Coverage</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Precinct Multipolygon</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Overlapping Precincts</button> */}\n                        </Collapsible>\n                    </div >\n                );\n            }\n            else if (userMode === \"Edit\") {\n                if (selectedFeatureType === \"Precinct\") {\n                    return (\n                        <div >\n                            <Collapsible trigger=\"General Info\" open={true}>\n                                {list}\n                            </Collapsible>\n                            <Collapsible trigger=\"Modify Data\">\n                                <DataCorrectionPage\n                                    data_correction_page_status={this.get_data_correction_page_status}\n                                />\n                            </Collapsible>\n                            <Collapsible trigger=\"Modify Neighbors\" >\n                                <ModifyNeighbors\n                                    selectedFeature={selectedFeature}\n                                    modify_neighbors_page_status={this.get_modify_neighbors_page_status}\n                                    precinctSelectedForEdit={this.props.precinctSelectedForEdit}\n                                    appData={this.props.appData}\n                                />\n                            </Collapsible>\n                            {/* <Collapsible trigger=\"Merge Precinct\" >\n                                <MergePrecinct\n                                    selectedFeature={selectedFeature}\n                                    precinctSelectedForEdit={this.props.precinctSelectedForEdit}\n                                    appData={this.props.appData} />\n                            </Collapsible> */}\n                        </div >\n                    );\n                }\n                else {\n                    return (\n                        <div >\n                            <h5></h5>\n                            <Collapsible trigger=\"General Info\" open={true}>\n                                {list}\n                            </Collapsible>\n                        </div >\n                    );\n                }\n\n            }\n        }\n        return (\n            <div>\n                Click on a highlighted state to view details\n            </div>\n        );\n    }\n}\n\nexport default LeftSidebar;","/* global setTimeout */\nimport React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { EditorModes } from 'react-map-gl-draw';\n\n\nconst MODES = [\n    { id: EditorModes.SELECT, text: 'Edit Feature', icon: 'icon-select.svg' },\n    { id: EditorModes.DRAW_POINT, text: 'Draw Point', icon: 'icon-point.svg' },\n    { id: EditorModes.DRAW_PATH, text: 'Draw Polyline', icon: 'icon-path.svg' },\n    { id: EditorModes.DRAW_POLYGON, text: 'Draw Polygon', icon: 'icon-polygon.svg' },\n    { id: EditorModes.DRAW_RECTANGLE, text: 'Draw Rectangle', icon: 'icon-rectangle.svg' }\n];\n\nconst Container = styled.div`\n  position: absolute;\n//   width: 48px;\n  left: 260px;\n  top: 240px;\n  background: #fff;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);\n  outline: none;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0px;\n  margin: 0px;\n`;\n\nconst Row = styled.div`\n  height: 34px;\n  width: 34px;\n  padding: 7px;\n  display: flex;\n  justify-content: left;\n  color: ${props => (props.selected ? '#ffffff' : 'inherit')};\n  background: ${props => (props.selected ? '#0071bc' : props.hovered ? '#e6e6e6' : 'inherit')};\n`;\n\nconst Img = styled.img`\n  max-width: 20px !important;\n`;\n\nconst Tooltip = styled.div`\n  position: absolute;\n  left: 52px;\n  padding: 4px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  min-width: 100px;\n  max-width: 300px;\n  height: 24px;\n  font-size: 12px;\n  z-index: 9;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Delete = styled(Row)`\n  &:hover {\n    background: ${props => (props.selected ? '#0071bc' : '#e6e6e6')};\n  }\n  &:active: {\n    background: ${props => (props.selected ? '#0071bc' : 'inherit')};\n  }\n`;\n\n\n/**\n * @props selectedMode={this.state.selectedMode}\n * @props onSwitchMode={this._switchMode}\n * @props onDelete={this._onDelete}           \n * @props onSelect={this._onSelect}\n * @props features={this.state.features}\n * @props selectedFeature={this.state.selectedFeature}\n * @props toolBarRequest={this._onSaveRequest}\n * \n */\n\nexport default class Toolbar extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            deleting: false,\n            hoveredId: null,\n        };\n    }\n\n    _onHover = evt => {\n        this.setState({ hoveredId: evt && evt.target.id });\n    };\n\n    //TODO probably dont neet to pass the evt \n    _onDelete = () => {\n        this.props.onDelete();\n        this.setState({ deleting: true });\n        setTimeout(() => this.setState({ deleting: false }), 500)\n    };\n\n    _onSaveChange = () => {\n        console.log(this.props.features)\n        this.props.toolBarRequest(this.props.features.data);\n    }\n\n    // checkSelectedFeature() {\n    //     console.log(this.props.selectedFeature, this.props.features)\n    //     let selectedFeature = this.props.selectedFeature;\n    //     if (selectedFeature && selectedFeature.properties.type === \"Precinct\") {\n    //         let selectedFeatureId = selectedFeature.id;\n    //         this.props.appData.fetchPrecinctShape(selectedFeatureId).then((data) => {\n    //             console.log(data);\n    //             this.setState({\n    //                 selectedPrecinctFeature: data.features[0]\n    //             });\n    //         });\n    //     }\n\n    // }\n\n    render() {\n        const { selectedMode } = this.props;\n        const { hoveredId } = this.state;\n        //this.checkSelectedFeature();\n        return (\n            <Container>\n                {MODES.map(m => {\n                    return (\n                        <Row\n                            onClick={this.props.onSwitchMode}\n                            onMouseOver={this._onHover}\n                            onMouseOut={_ => this._onHover(null)}\n                            selected={m.id === selectedMode}\n                            hovered={m.id === hoveredId}\n                            key={m.id}\n                            id={m.id}\n                        >\n                            <Img id={m.id} onMouseOver={this._onHover} src={m.icon} />\n                            {hoveredId === m.id && <Tooltip>{m.text}</Tooltip>}\n                        </Row>\n                    );\n                })}\n                <Delete\n                    selected={this.state.deleting}\n                    onClick={this._onDelete}\n                    onMouseOver={this._onHover}\n                    onMouseOut={_ => this._onHover(null)}\n                >\n                    <Img\n                        id={'delete'}\n                        onMouseOver={this._onHover}\n                        src={'icon-delete.svg'}\n                    />\n                    {hoveredId === 'delete' && <Tooltip>{'Delete'}</Tooltip>}\n                </Delete>\n                <Row\n                    onClick={() => this._onSaveChange()}\n                    onMouseOver={this._onHover}\n                    onMouseOut={_ => this._onHover(null)}\n                    id=\"saveDrawBtn\"\n                ><span style={{ \"fontSize\": \"10px\" }}> save</span></Row>\n            </Container>\n        );\n    }\n}\n","import React, { Component } from \"react\";\n\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { toast } from \"react-toastify\";\n\n/**\n * @prop selectedFeature : selectedFeature\n * @prop userModeSelect : call back for selected mode\n */\nclass UserModeSelector extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    // NOTE: Change to \"toggle mode\" which would be a button that shows a toast everytime you toggle mode\n    render() {\n        let selectedFeatureType = this.props.selectedFeature ? this.props.selectedFeature.properties.type : undefined;\n        return (\n            <Dropdown>\n                <Dropdown.Toggle variant=\"info\" id=\"userModeSelect\">\n                    Select Mode\n        </Dropdown.Toggle>\n                <Dropdown.Menu>\n                    <Dropdown.Item onClick={() => this.props.userModeSelect(\"View\")}>\n                        View\n          </Dropdown.Item>\n                    <Dropdown.Item onClick={() => {\n                        this.props.userModeSelect(\"Edit\");\n                        if (selectedFeatureType != \"Precinct\" && selectedFeatureType != undefined) {\n                            toast.info(\"Note: Can only edit precinct\", {\n                                position: toast.POSITION.BOTTOM_RIGHT,\n                            });\n                        }\n                    }} disabled={selectedFeatureType !== \"Precinct\"}>\n                        Edit\n          </Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown >\n        );\n    }\n}\n\nexport default UserModeSelector;\n","import React, { Component } from \"react\";\n\nimport Button from \"react-bootstrap/Button\";\n\n/**\n * @prop mergePrecicncts: function to merge the precincts\n * @prop enabled: boolean as to whether merge button enabled\n */\nclass MergeBtn extends Component {\n    render() {\n        const { enabled } = this.props;\n        if (enabled) {\n            return (\n                <Button variant=\"success\" onClick={this.props.mergePrecincts}>\n                    Merge\n                </Button>\n            )\n        }\n        else {\n            return (\n                <Button variant=\"success\" disabled>Merge</Button>\n            )\n        }\n    }\n}\n\nexport default MergeBtn;","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport MapGL, {\n    Popup,\n    NavigationControl,\n    FullscreenControl,\n    ScaleControl,\n    Source,\n    Layer,\n    LinearInterpolator,\n    WebMercatorViewport,\n} from \"react-map-gl\";\nimport { Nav, Navbar, Form } from \"react-bootstrap\";\n//import { json } from \"d3-request\";\nimport bbox from \"@turf/bbox\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { GeoJsonLayer } from \"@deck.gl/layers\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport { Editor, EditorModes } from \"react-map-gl-draw\";\n\n/**\n * JS classes\n */\nimport AppData from \"../data/AppData\";\n\n/**\n * CSS Styling\n */\nimport \"../App.css\";\nimport \"../styles/Collapsible.css\";\nimport \"../styles/PinPopup.css\";\nimport \"../static/app.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Card from \"react-bootstrap/Card\";\n\n/**\n * Map layers\n */\nimport {\n    countyDataLayerFillable,\n    //countyDataLayerFillableHighlight,\n    countyDataLayerOutline,\n} from \"../layers/CountyLayer\";\nimport {\n    stateLayerFill, stateLayerOutline,\n    //stateLayerFillHighlight\n} from \"../layers/StateLayer\";\nimport {\n    precinctLayerFill,\n    //precinctLayerFillHighlight,\n    precinctLayerOutline,\n} from \"../layers/PrecinctLayer\";\nimport {\n    congressionalLayerFill,\n    //congressionalLayerFillHighlight,\n    congressionalLayerOutline,\n} from \"../layers/CongressionalLayer\";\n\n/**\n * Our components\n */\nimport Pins from \"./map/ErrorPins\";\nimport ErrorInfo from \"./map/ErrorModal\";\nimport StateSelector from \"./navbar/StateSelector\";\nimport LeftSidebar from \"./sidebar/LeftSidebar\";\nimport Toolbar from \"./map/toolbar\";\nimport UserModeSelector from \"./navbar/UserModeSelector\";\nimport MergeBtn from \"./navbar/MergeBtn\";\n\n/**\n * Static data files\n */\nimport ERRORS from \"../data/errors.json\";\n//import STATES_TOOLTIP_DATA from '../data/states_tooltip_data.geojson';\n//import NY_COUNTY_SHORELINE_DATA from '../data/ny_county_shoreline.geojson';\n//import NY_PRECINCT_DATA from '../data/ny_precincts.geojson';\n//import NY_CONGRESSIONAL_DATA from \"../data//New_York_Congressional_Districts.GeoJSON\";\n// import TESTING_PRECINCT_DATA from './data/GeoJSON_example.geojson';\n\n/**\n * Mapbox Style & API Key\n */\nconst MAPBOX_STYLE = \"mapbox://styles/shortland/ck7fn4gmu014c1ip60jlumnm2\";\nconst MAPBOX_API =\n    \"pk.eyJ1Ijoic2hvcnRsYW5kIiwiYSI6ImNqeXVzOWhsbjBpYzczY29hNGZycTlqdXAifQ.B6l-uEqGG-Pw6-quz4eflQ\";\n\n/**\n * Main React component which renders everything\n * @state viewport: the maps viewport (lat, long, etc)\n * @state stateData, countyData, congresionalDistrictData, precinctData: hold data loaded from API\n * @state layers: keeps track of which layers should be on (ex: precincts should be displayed when layers.precincts is true)\n */\nexport default class App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            stateData: null,\n            countyData: null,\n            countyDataOutline: null,\n            congressionalDistrictData: null,\n            precinctData: null,\n            viewport: {\n                width: \"100%\",\n                height: window.innerHeight,\n                latitude: 37.0902,\n                longitude: -105.7129,\n                zoom: 3.3,\n            },\n            popupInfo: null,\n            selectedFeature: null,\n            selectedPrecinctGroup: [],\n            selectedMode: EditorModes.READ_ONLY,\n            // selectedFeatureId: null,\n            hoveredFeature: null,\n            shouldShowPins: false,\n            features: {},\n            selectedFeatureIndex: null,\n            userMode: \"View\",\n            layers: {\n                states: true,\n                counties: true,\n                congressional: false,\n                precincts: true,\n                parks: false,\n            },\n            precinct_selection_to_edit: false, // this is for determine if user is selecting precincts to edit\n            precinct_selected_for_edit: null, // this is the precinct user selected while (precinct_selection_to_edit == true)\n        };\n\n        this._editorRef = null;\n        this.showErrorPins = this.showErrorPins.bind(this);\n        this.appData = new AppData();\n\n        this.mapRef = React.createRef();\n    }\n\n    /**\n     * gets the underlying Mapbox GL JS map\n     * be careful calling methods on this map as it may break the React wrapper\n     */\n    getMap() {\n        return this.mapRef.current.getMap()\n    }\n\n    handleViewportChange = (viewport) => {\n        this.setState({\n            viewport: { ...this.state.viewport, ...viewport },\n        });\n    };\n\n    handleGeocoderViewportChange = (viewport) => {\n        const geocoderDefaultOverrides = { transitionDuration: 1000 };\n\n        return this.handleViewportChange({\n            ...viewport,\n            ...geocoderDefaultOverrides,\n        });\n    };\n\n    handleOnResult = (event) => {\n        console.log(event.result);\n        this.setState({\n            searchResultLayer: new GeoJsonLayer({\n                id: \"search-result\",\n                data: event.result.geometry,\n                getFillColor: [255, 0, 0, 128],\n                getRadius: 1000,\n                pointRadiusMinPixels: 10,\n                pointRadiusMaxPixels: 10,\n            }),\n        });\n    };\n    //----------------------- React Map GL Draw--------------------//\n    /**\n     * For React Map Gl Draw\n     */\n    _onDelete = () => {\n        const { selectedFeatureIndex } = this.state;\n        if (selectedFeatureIndex === null || selectedFeatureIndex === undefined) {\n            toast.info(\"Please select a new created precint before deleting action\", {\n                position: toast.POSITION.BOTTOM_RIGHT,\n            });\n            return;\n        } else {\n            toast.info(\"Selected precinct is deleted\", {\n                position: toast.POSITION.BOTTOM_RIGHT,\n            });\n            let features = this.state.features;\n            if (selectedFeatureIndex > -1) {\n                features.data.splice(selectedFeatureIndex, 1);\n            }\n            this.setState({\n                selectedFeatureIndex: null,\n                selectedMode: EditorModes.READ_ONLY,\n                features: features,\n            });\n        }\n        this._editorRef.deleteFeatures(selectedFeatureIndex);\n    };\n\n    _switchMode = (evt) => {\n        let selectedMode = evt.target.id;\n        if (selectedMode === this.state.selectedMode) {\n            selectedMode = null;\n        }\n\n        this.setState({ selectedMode });\n    };\n\n    //Map GL Draw select a feature (a created shape by the MapGLDraw)\n    _onSelect = (selected) => {\n        this.setState({\n            selectedFeatureIndex: selected && selected.selectedFeatureIndex,\n        });\n    };\n    //Map GL Draw update (user draw a new shape)\n    _onUpdate = (features) => {\n        this.setState({\n            features: features,\n            selectedMode: EditorModes.READ_ONLY,\n            selectedFeatureIndex: null,\n        });\n    };\n\n    //toobar save button click event\n    _onSaveRequest = (toolBarRequest) => {\n        if (toolBarRequest) {\n            let selected_saved_feature = this.state.features.data[\n                this.state.selectedFeatureIndex\n            ];\n            console.log(selected_saved_feature);\n            this.setState({\n                selectedMode: EditorModes.READ_ONLY,\n                selectedFeatureIndex: null,\n            });\n            if (selected_saved_feature) {\n                toast.info(\"New precinct is saved\", {\n                    position: toast.POSITION.BOTTOM_RIGHT,\n                });\n            } else {\n                toast.info(\"Please select a new created precint to save\", {\n                    position: toast.POSITION.BOTTOM_RIGHT,\n                });\n            }\n        }\n    };\n\n    _renderToolbar = () => {\n        const { userMode } = this.state;\n        if (userMode === \"Edit\") {\n            // let selectedFeature = this.state.selectedFeature;\n            // if (selectedFeature && selectedFeature.properties.type === \"Precinct\") {\n            //     let oldFeatureForEdit = this.state.featureForEditing;\n            //     let selectedFeatureId = selectedFeature.id;\n            //     let isUpdateStateNeeded = false;\n            //     //check if featureForEdit is the same\n            //     if (oldFeatureForEdit) {\n            //         if (oldFeatureForEdit.id !== selectedFeatureId) {\n            //             isUpdateStateNeeded = true;\n            //         }\n            //     }\n            //     else {\n            //         isUpdateStateNeeded = true;\n            //     }\n\n            //     if (isUpdateStateNeeded) {\n            //         this.appData.fetchPrecinctShape(selectedFeatureId).then((data) => {\n            //             data.features[0].geometry = {\n            //                 type: \"Polygon\",\n            //                 coordinates: data.features[0].geometry.coordinates[0]\n            //             }\n            //             this.setState({\n            //                 featureForEditing: data.features\n            //             });\n            //         });\n            //     }\n            // }\n            // let featureForEditing = this.state.featureForEditing;\n            // let editor = this._editorRef;\n            // //we only use one feature\n            // if (featureForEditing) {\n            //     //check if editor's featureCollection exist or not\n            //     if (editor.state.featureCollection) {\n            //         if (editor.state.featureCollection.featureCollection.length !== 1) {\n            //             editor.state.featureCollection.featureCollection.length = 0;\n            //             //editor.addFeatures(featureForEditing);\n            //         }\n            //     }\n            //     else {\n            //         editor.addFeatures(featureForEditing);\n            //     }\n            // }\n            // else {\n            //     //console.log(editor);\n            // }\n\n\n            return (\n                <Toolbar\n                    selectedMode={this.state.selectedMode}\n                    onSwitchMode={this._switchMode}\n                    onDelete={this._onDelete}\n                    onSelect={this._onSelect}\n                    features={this.state.features}\n                    selectedFeature={this.state.selectedFeature}\n                    toolBarRequest={this._onSaveRequest}\n                    appData={this.appData}\n                />\n            );\n        } else {\n            return;\n        }\n    };\n\n    /**\n     * Here can load anything based on the state feature selected\n     * such as congressional districts or national parks by state\n     * \n     * state.selectedFeature is set within here\n     */\n    onStateSelected(stateFeature) {\n        // const { layers } = this.state;\n        console.log(stateFeature.properties)\n        let stateID = stateFeature.properties.id;\n\n        this.appData.fetchCongressionalDistrictByState(stateID).then((data) => {\n            //console.log(data)\n            this.setState({\n                congressionalDistrictData: data\n            });\n        });\n\n        this.appData.fetchCountiesByState(stateID).then((data) => {\n            //console.log(data)\n            this.setState({\n                countyData: data\n            });\n        });\n\n        this.setState({ selectedFeature: stateFeature })\n    }\n\n    /**\n     * any operations when a county is selected can go here\n     * \n     * sets state.selectedFeature to be the county feature passed\n     */\n    onCountySelected(countyFeature) {\n        //console.log(countyFeature.properties)\n        let countyId = countyFeature.properties.id;\n\n        this.appData.fetchShapeOfPrecinctsByCounty(countyId).then((data) => {\n            console.log(data)\n            this.setState({\n                precinctData: data\n            });\n        });\n\n        this.setState({ selectedFeature: countyFeature });\n    }\n\n    /**\n     * when detected a precinct is being hovered on\n     */\n    onPrecinctHover(precinctFeature, event) {\n        const shiftKey = event.srcEvent.shiftKey;\n        const { selectedFeature } = this.state;\n        if (shiftKey && selectedFeature.type === \"Precinct\") {\n            precinctFeature.multiSelecting = true;\n        }\n        else {\n            precinctFeature.multiSelecting = false;\n        }\n    }\n\n    /**\n     * any operations for when a precinct is selected can go here\n     * \n     * sets state.selectedFeature as the precinct passed\n     */\n    onPrecinctSelected(precinctFeature, selectingMultiple, precinct_selection_to_edit = this.state.precinct_selection_to_edit) {\n        let precinctId = precinctFeature.properties.id;\n        if (precinct_selection_to_edit) {\n\n            //add the selected precinct to precinct_selected_for_edit\n            this.setState({\n                precinct_selected_for_edit: precinctFeature.id\n            });\n            //precinct_selection_to_edit is true so allow multiple selection\n            this.addPrecinctToGroup(precinctFeature);\n            console.log(\"selectMultiple cus editmode\");\n        }\n        else {\n            this.appData.fetchPrecinctInfo(precinctId).then((data) => {\n                let oldData = precinctFeature;\n                let neighborsStrId = [];\n                for (let i in data.neighborsId) {\n                    neighborsStrId.push(data.neighborsId[i].toString().trim());\n                }\n                let info = {\n                    \"demographicData\": data.demographicData,\n                    \"fullName\": data.fullName,\n                    \"id\": data.id,\n                    \"isGhost\": data.isGhost,\n                    \"parentId\": data.parentDistrictId,\n                    \"precinctError\": data.precinctErrors,\n                    \"votingData\": data.votingData\n                }\n                if (oldData.properties.neighborsId === undefined) {\n                    info[\"neighborsId\"] = neighborsStrId;\n                }\n                let newProp = Object.assign(oldData.properties, info);\n                oldData.properties = newProp;\n                return oldData;\n            }).then((updatedPrecinct) => {\n                let precinct_selected_for_edit = this.state.precinct_selected_for_edit;\n                this.setState({\n                    precinct_selected_for_edit: null\n                });\n\n                //TODO: only work for adding negihbors don't work for deleting negihbors\n                /**for dymanically add the deleted neighbor to remove that precinct's highlight\n                 *  only use in removeNeighborsHighlights\n                 */\n                let prevSelectedForDynmic = this.state.selectedFeature;\n                if (precinct_selected_for_edit) {\n                    let isPrecinctSelectedForEditExist = false;\n                    for (let i in prevSelectedForDynmic.properties.neighborsId) {\n                        if (prevSelectedForDynmic.properties.neighborsId[i].toString().trim() === precinct_selected_for_edit.toString().trim()) {\n                            isPrecinctSelectedForEditExist = true;\n                        }\n                    }\n                    if (!isPrecinctSelectedForEditExist) {\n                        if (prevSelectedForDynmic.properties.neighborsId) {\n                            prevSelectedForDynmic.properties.neighborsId.push(precinct_selected_for_edit.toString().trim());\n                        }\n                    }\n                }\n                const prevSelected = this.state.selectedFeature;\n                console.log(\"prev\", prevSelected);\n                console.log(\"prevDyn\", prevSelectedForDynmic);\n                console.log(\"updated\", updatedPrecinct);\n                if (selectingMultiple) {\n                    //shift key was pressed, add for multi select\n                    this.addPrecinctToGroup(updatedPrecinct);\n                    console.log(this.state.selectedPrecinctGroup);\n                }\n                else {\n                    console.log(\"jjj\")\n                    //remove highlights\n                    this.removeSelectedHighlight(prevSelected);\n                    this.removeHighlightPrecinctNeighbors(prevSelectedForDynmic);\n                    //remove highlights from group\n                    this.clearPrecinctGroup();\n                    this.addSelectedHighlight(updatedPrecinct);\n                    this.highlightPrecinctNeighbors(updatedPrecinct);\n                    //Add highlights\n                    this.setState({\n                        selectedFeature: updatedPrecinct\n                    });\n                }\n            });\n        }\n\n    }\n\n    /**\n     * For multi-selection of precincts with shift+click\n     * Since selecting multiple, just keeps state.selectedFeature as the first selected\n     * @param {*} precinctFeature precinct to add to the group of selected\n     */\n    addPrecinctToGroup(precinctFeature) {\n        const group = this.state.selectedPrecinctGroup;\n        if (group.length === 0) {\n            const prevSelected = this.state.selectedFeature;\n            group.push(prevSelected); //push first selected\n            group.push(precinctFeature); //push the second selected\n        }\n        else if (group.length === 1) {\n            group.push(precinctFeature);\n        }\n        else {\n            toast.warn(\"Can only add 2 precincts to a group\",\n                {\n                    position: toast.POSITION.BOTTOM_CENTER,\n                });\n            return;\n        }\n        console.log(group);\n        this.addSelectedHighlight(precinctFeature);\n        this.setState({ selectedPrecinctGroup: group });\n    }\n\n    /**\n     * clears the group of selected precincts\n     */\n    clearPrecinctGroup() {\n        const group = this.state.selectedPrecinctGroup;\n        while (group.length != 0) {\n            this.removeSelectedHighlight(group.pop());\n        }\n        this.setState({ selectedPrecinctGroup: group });\n    }\n\n    /**\n     * will set state.selectedFeature to the feature clicked\n     * each feature type has it's own onSelected method which is called (state.selectedFeature is set in there)\n     */\n    _onClick = (event) => {\n        const { features } = event;\n        console.log(features)\n        if (features) {\n            const stateFeature = features.find((f) => f.layer.id === \"stateFill\");\n            const countyFeature = features.find((f) => f.layer.id === \"countyFill\");\n            const congressionalFeature = features.find((f) => f.layer.id === \"congressionalFill\");\n            const precinctFeature = features.find((f) => f.layer.id === \"precinctFill\");\n\n            const selectedFeature = stateFeature || countyFeature || congressionalFeature || precinctFeature;\n            const previouslySelected = this.state.selectedFeature;\n\n            //console.log(event);\n            //console.log(event.srcEvent.shiftKey);\n\n            if (stateFeature) {\n                stateFeature.properties.type = \"State\";\n                //console.log(stateFeature)\n                // if a clicks on a state that was already selected/clicked on\n                if (this.state.selectedFeature) {\n                    if (stateFeature.properties.name === this.state.selectedFeature.properties.name) {\n                        this._zoomToFeature(event);\n                        return;\n                    }\n                } else {\n                    toast.info(\n                        \"Click the same feature (state/county) again to zoom in.\",\n                        {\n                            position: toast.POSITION.BOTTOM_RIGHT,\n                        }\n                    );\n                }\n                this.onStateSelected(stateFeature);\n            }\n            else if (countyFeature) {\n                countyFeature.properties.type = \"County\";\n                // if a clicks on a county that was already selected/clicked on\n                if (this.state.selectedFeature) {\n                    if (countyFeature.properties.name === this.state.selectedFeature.properties.name) {\n                        this._zoomToFeature(event);\n                        return;\n                    }\n                }\n                this.onCountySelected(countyFeature);\n            }\n            else if (congressionalFeature) {\n                congressionalFeature.properties.type = \"Congressional District\";\n                this.setState({ selectedFeature: congressionalFeature });\n            }\n            else if (precinctFeature) {\n                precinctFeature.properties.type = \"Precinct\";\n                //call on precinct selected, passing shift key pressed to check if selecting multiple\n                this.onPrecinctSelected(precinctFeature, event.srcEvent.shiftKey);\n                //check if precinct_selection_to_edit is true\n                // if (this.state.precinct_selection_to_edit) {\n                //     //add the selected precinct to precinct_selected_for_edit\n                //     this.setState({\n                //         precinct_selected_for_edit: precinctFeature.id\n                //     });\n                //     //TODO: enable user to select multiple precicnts so this should also highlight all the selected precincts\n                // }\n                // else {\n                //     this.onPrecinctSelected(precinctFeature);\n                // }\n\n                //handle everything for precinct selected in above methods, then return\n                return;\n            }\n            else {\n                if (previouslySelected && previouslySelected.properties.type === \"Precinct\") {\n                    this.removeHighlightPrecinctNeighbors(previouslySelected);\n                }\n            }\n            this.removeSelectedHighlight(previouslySelected);\n            this.addSelectedHighlight(selectedFeature);\n        }\n    };\n\n    _zoomToFeature(event) {\n        const feature = event.features[0];\n\n        if (!feature) {\n            return;\n        }\n\n        if (feature.layer.id === \"stateFill\" || feature.layer.id === \"countyFill\") {\n            const [minLng, minLat, maxLng, maxLat] = bbox(feature);\n            const viewport = new WebMercatorViewport(this.state.viewport);\n            const { longitude, latitude, zoom } = viewport.fitBounds(\n                [\n                    [minLng, minLat],\n                    [maxLng, maxLat],\n                ],\n                {\n                    padding: 40,\n                }\n            );\n\n            this.setState({\n                viewport: {\n                    ...this.state.viewport,\n                    longitude,\n                    latitude,\n                    zoom,\n                    transitionInterpolator: new LinearInterpolator({\n                        around: [event.offsetCenter.x, event.offsetCenter.y],\n                    }),\n                    transitionDuration: 1000,\n                },\n            });\n            return;\n        }\n    }\n\n    _onHover = (event) => {\n        const map = this.mapRef.current.getMap();\n        const {\n            features,\n            srcEvent: { x, y },\n        } = event;\n\n        //console.log(event.srcEvent.shiftKey);\n\n        if (!event.type || !event.features || event.features.length === 0 || event.features[0].source === \"composite\") {\n            const lastHovered = this.state.hoveredFeature;\n            if (lastHovered && lastHovered.id) {\n                map.setFeatureState(\n                    { source: lastHovered.source, id: lastHovered.id },\n                    { hover: false }\n                );\n            }\n            this.setState({\n                hoveredFeature: null\n            });\n            return;\n        }\n\n        // prevent hovering on pin making the tooltip show at top left of map\n        if (x !== 0 && y !== 0) {\n            this.setState({ x: x, y: y });\n        }\n\n        if (features) {\n            const stateHovered = features.find((f) => f.layer.id === \"stateFill\");\n            const countyHovered = features.find((f) => f.layer.id === \"countyFill\");\n            const congressionalHovered = features.find((f) => f.layer.id === \"congressionalFill\");\n            const precinctHovered = features.find((f) => f.layer.id === \"precinctFill\");\n\n            const hovered = stateHovered || countyHovered || congressionalHovered || precinctHovered;\n            const lastHovered = this.state.hoveredFeature;\n\n            //console.log(hovered);\n\n            //set highlight on hover\n            if (hovered) {\n                map.setFeatureState(\n                    { source: hovered.source, id: hovered.id },\n                    { hover: true }\n                );\n            }\n\n            if (stateHovered) {\n                hovered.isState = true;\n            } else if (countyHovered) {\n                hovered.isCounty = true;\n            } else if (congressionalHovered) {\n                hovered.isCongressional = true;\n            } else if (precinctHovered) {\n                hovered.isPrecinct = true;\n                this.onPrecinctHover(precinctHovered, event);\n                //this.highlightPrecinctNeighbors(precinctHovered);\n            }\n\n            //if changed hovered features, remove highlight from previous\n            if (lastHovered && hovered && hovered.id && lastHovered.id != hovered.id) {\n                map.setFeatureState(\n                    { source: lastHovered.source, id: lastHovered.id },\n                    { hover: false }\n                );\n            }\n            this.setState({\n                hoveredFeature: hovered\n            });\n        }\n    };\n\n    addHoveredHighlight(feature) {\n        const map = this.mapRef.current.getMap();\n        if (feature && feature.id && feature.source) {\n            map.setFeatureState(\n                { source: feature.source, id: feature.id },\n                { hover: true }\n            );\n        }\n    }\n\n    addSelectedHighlight(feature) {\n        const map = this.mapRef.current.getMap();\n        if (feature && feature.id && feature.source) {\n            map.setFeatureState(\n                { source: feature.source, id: feature.id },\n                { selected: true }\n            );\n        }\n    }\n\n    async removeSelectedHighlight(feature) {\n        const map = this.mapRef.current.getMap();\n        if (feature && feature.id && feature.source) {\n            map.setFeatureState(\n                { source: feature.source, id: feature.id },\n                { selected: false }\n            );\n        }\n    }\n\n    /**\n     * will set precicnt's neighbors' styling\n     * @param {*} precinctFeature the precinct whose neighbors to highlight\n     */\n    highlightPrecinctNeighbors(precinctFeature) {\n        console.log(precinctFeature);\n        const map = this.mapRef.current.getMap()\n        const neighbors = precinctFeature.properties.neighborsId || false;\n        const source = precinctFeature.source;\n\n        if (neighbors && source) {\n            // for (let index = 0; index < neighbors.length; index++) {\n            //     let Nid = neighbors[index].toString().trim();\n            //     console.log(Nid, index);\n            //     map.setFeatureState(\n            //         { source: source, id: Nid },\n            //         { neighbor: true }\n            //     );\n            // }\n            console.log(\"hihglighNeiggh\", neighbors);\n            for (let index in neighbors) {\n                let Nid = neighbors[index].toString().trim();\n                console.log(Nid, index);\n                map.setFeatureState(\n                    { source: source, id: Nid },\n                    { neighbor: true }\n                );\n            }\n        }\n    }\n\n    /**\n     * removes neighbors styling, for when new precinct selected\n     * @param {*} precinctFeature the precicnt to remove neighbors' highlighting\n     */\n    async removeHighlightPrecinctNeighbors(precinctFeature) {\n        console.log(precinctFeature);\n        const map = this.mapRef.current.getMap()\n        const neighbors = precinctFeature.properties.neighborsId || false;\n        const source = precinctFeature.source;\n        console.log(\"removeNeighbors\", neighbors)\n        if (neighbors && source) {\n            for (let index in neighbors) {\n                let Nid = neighbors[index].toString().trim();\n                //console.log(Nid);\n                map.setFeatureState(\n                    { source: source, id: Nid },\n                    { neighbor: false }\n                );\n            }\n        }\n    }\n\n    /**\n     * renders the on hover tooltip\n     */\n    _renderTooltip() {\n        const { hoveredFeature, x, y, selectedFeature } = this.state;\n\n        if (!hoveredFeature) {\n            return;\n        } else if (hoveredFeature.isState) {\n            const stateHovered = hoveredFeature;\n            return (\n                hoveredFeature && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{stateHovered.properties.name}</h5>\n                        {/* <div>\n                            Counties:{\" \"}\n                            {}\n                        </div> */}\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        } else if (hoveredFeature.isCounty) {\n            const countyHovered = hoveredFeature;\n            return (\n                countyHovered && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{countyHovered.properties.name}</h5>\n                        {/* <div>FIPS Code: {countyHovered.properties.FIPS_CODE}</div> */}\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        } else if (hoveredFeature.isCongressional) {\n            const congressionalHovered = hoveredFeature;\n            return (\n                congressionalHovered && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{congressionalHovered.properties.name}</h5>\n                        <div></div>\n                        {/* <br /> */}\n                        <div style={{ \"fontStyle\": \"italic\" }}>click to load precincts for county</div>\n                    </div>\n                )\n            );\n        } else if (hoveredFeature.isPrecinct) {\n            const precinctHovered = hoveredFeature;\n            return (\n                precinctHovered && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h6>Precinct id: {precinctHovered.properties.id}</h6>\n                        {(() => {\n                            if (precinctHovered.id === selectedFeature.id) {\n                                return <div style={{ \"fontStyle\": \"italic\" }}>this precicnt is currently selected</div>;\n                            }\n                            else if (precinctHovered.multiSelecting) {\n                                return <div style={{ \"fontStyle\": \"italic\" }}>add this to group?</div>;\n                            }\n                            else if (selectedFeature.properties.type === \"Precinct\") {\n                                return <div style={{ \"fontStyle\": \"italic\" }}>shift+click to add to selection</div>;\n                            }\n                        })()}\n                    </div>\n                )\n            );\n        }\n    }\n\n    userModeSelect = (userMode) => {\n        if (userMode) {\n            this.setState({ userMode: userMode });\n        }\n\n        if (userMode !== \"Edit\") {\n            this.setState({\n                precinct_selection_to_edit: false,\n                precinct_selected_for_edit: null\n            });\n        }\n        else {\n            this.setState({\n                precinct_selection_to_edit: true\n            });\n        }\n    };\n\n    stateSelect(name) {\n        let latitude = 0;\n        let longitude = 0;\n        let zoom = 6;\n        switch (name) {\n            case \"New York\":\n            case \"NY\":\n                latitude = 43.2994;\n                longitude = -76.2179;\n                break;\n            case \"Wisconsin\":\n            case \"WI\":\n                latitude = 44.7844;\n                longitude = -89.7879;\n                break;\n            case \"Utah\":\n            case \"UT\":\n                latitude = 39.321;\n                longitude = -112.0937;\n                break;\n            default:\n        }\n\n        this.setState({\n            viewport: {\n                ...this.state.viewport,\n                latitude: latitude,\n                longitude: longitude,\n                zoom: zoom,\n            },\n        });\n    }\n\n    /**\n     * Rendering error pins on the map & its popup\n     */\n    _onClickError = (error_data) => {\n        this.setState({ popupInfo: error_data });\n        console.log(error_data);\n        this.setState({\n            viewport: {\n                ...this.state.viewport,\n                longitude: error_data.longitude,\n                latitude: error_data.latitude,\n                transitionDuration: 1000,\n                zoom: 11,\n            },\n        });\n    };\n\n    _renderErrorPopup() {\n        const { popupInfo } = this.state;\n\n        return (\n            popupInfo && (\n                <Popup\n                    tipSize={5}\n                    anchor=\"top\"\n                    longitude={popupInfo.longitude}\n                    latitude={popupInfo.latitude}\n                    closeOnClick={false}\n                    onClose={() => this.setState({ popupInfo: null })}\n                >\n                    <ErrorInfo info={popupInfo} />\n                </Popup>\n            )\n        );\n    }\n\n    showErrorPins() {\n        const { shouldShowPins } = this.state;\n\n        if (shouldShowPins) {\n            this.setState({\n                shouldShowPins: false,\n            });\n        } else {\n            this.setState({\n                shouldShowPins: true,\n            });\n        }\n    }\n\n    /**\n     * getting all the error and pass the error to LeftSideBar -> MapError\n     */\n    getAllErrors() {\n        this.appData.fetchAllPrecinctError().then((data) => {\n            console.log(data);\n            let errorMap = {};\n            for (let i in data) {\n                let precinctId = data[i].precinctId;\n                if (precinctId) {\n                    errorMap[precinctId] = data[i];\n                }\n            }\n            this.setState({\n                //errorPrecinctId: precinctId,\n                allErrors: data\n            });\n        });\n    }\n\n    errorListOnClick = (errorData) => {\n        console.log(errorData);\n        let id = errorData.precinctId;\n        if (id) {\n            let stateId = id.slice(0, 2);\n            let countyId = id.slice(0, 5);\n            let map = this.getMap();\n            this.appData.fetchPrecinctShape(id).then((data) => {\n                let geo = data.features[0].geometry;\n                console.log(geo);\n                let oneArray = geo.coordinates[0][0][0];\n                let f = map.queryRenderedFeatures(oneArray, { layers: \"PrecinctFill\" });\n                console.log(data);\n                console.log(f);\n            });\n        }\n    }\n\n    /**\n     * This is called after everything is rendered to DOM\n     * Good place for API calls\n     */\n    componentDidMount() {\n        /**\n         * Get all the states\n         */\n        this.appData.fetchAllStates().then((data) => {\n            this.setState({\n                stateData: data.featureCollection,\n            });\n        });\n\n        this.getAllErrors();\n\n        //this.appData.fetchAllPrecinctError();\n    }\n\n    /**\n     * Render state data\n     */\n    renderStateLayers() {\n        const { layers, stateData } = this.state;\n\n        return (\n            <>\n                {layers.states && (\n                    <Source type=\"geojson\" data={stateData}>\n                        <Layer {...stateLayerFill} maxzoom={5.5} />\n                        <Layer {...stateLayerOutline} maxzoom={5.5} />\n                    </Source>\n                )}\n            </>\n        );\n    }\n\n    /**\n     * Render congressional data\n     */\n    renderCongressionalLayers() {\n        const { layers, congressionalDistrictData } = this.state;\n        // console.log(congressionalDistrictData)\n        return (\n            <>\n                {layers.congressional && (\n                    <Source type=\"geojson\" data={congressionalDistrictData}>\n                        <Layer {...congressionalLayerFill} minzoom={5} />\n                        <Layer {...congressionalLayerOutline} minzoom={5} />\n                    </Source>\n                )}\n            </>\n        );\n    }\n\n    renderCountyLayers() {\n        const { layers, countyData, selectedFeature } = this.state;\n        return (\n            <>\n                {layers.counties && (\n                    <Source type=\"geojson\" data={countyData}>\n                        <Layer {...countyDataLayerOutline} minzoom={5.5} />\n                        <Layer {...countyDataLayerFillable} minzoom={5.5}\n                            maxzoom={(() => {\n                                if (selectedFeature && selectedFeature.properties.type === \"Precinct\") {\n                                    return 7.5;\n                                }\n                                else {\n                                    return 9;\n                                }\n                            })()} />\n                    </Source>\n                )}\n            </>\n        );\n    }\n\n    get_leftSideBar_status = (status) => {\n        if (status === \"precinct_selection_to_edit\") {\n            this.setState({\n                precinct_selection_to_edit: true\n            });\n        }\n        else if (status === \"saveRequested\") {\n            this.setState({\n                precinct_selection_to_edit: false\n            })\n            let precinctFeature = this.state.selectedFeature;\n            if (precinctFeature.properties.type === \"Precinct\") {\n                let selectingMultiple = false;\n                console.log(\"precinct_selection_to_edit : \", this.state.precinct_selection_to_edit);\n                console.log(precinctFeature);\n                this.onPrecinctSelected(precinctFeature, selectingMultiple, false);\n            }\n            else {\n                this.setState({\n                    precinct_selected_for_edit: null,\n                });\n            }\n        }\n        else {\n            this.setState({\n                precinct_selected_for_edit: null,\n                precinct_selection_to_edit: false\n            })\n        }\n    }\n\n    /**\n     * Render precinct data\n     */\n    renderPrecinctLayers() {\n        const { layers, precinctData } = this.state;\n        //console.log(layers.precincts, precinctData)\n        return (\n            <>\n                {layers.precincts && (\n                    <Source type=\"geojson\" data={precinctData}>\n                        <Layer {...precinctLayerOutline} minzoom={7} />\n                        <Layer {...precinctLayerFill} minzoom={7} />\n                    </Source>\n                )}\n            </>\n        );\n    }\n\n    /**\n     * just checks if current selected feature is a precinct\n     */\n    precinctIsSelected() {\n        const selected = this.state.selectedFeature;\n        if (selected && selected.properties.type && selected.properties.type === \"Precinct\") {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    render() {\n        const { viewport, selectedMode, shouldShowPins } = this.state;\n        //console.log(\"testing for leftSideBar\\n\", this.state.selectedFeature)\n        return (\n            <div className=\"App\">\n                <div className=\"selectStateItem inlineDivs\">\n                    <StateSelector\n                        select_state={(state_abv) => this.stateSelect.bind(this, state_abv)}\n                    />\n                </div>\n                <div className=\"toggleModeItem inlineDivs\">\n                    <UserModeSelector\n                        userModeSelect={(selectedMode) => this.userModeSelect(selectedMode)}\n                        selectedFeature={this.state.selectedFeature}\n                    />\n                </div>\n                {this.precinctIsSelected() &&\n                    <div className=\"mergeBtn inlineDivs\">\n                        <MergeBtn\n                            mergePrecincts={() => this.mergePrecincts()}\n                            enabled={this.state.selectedPrecinctGroup.length >= 2}\n                        />\n                    </div>\n                }\n\n                <div>\n                    <div id=\"leftCol\">\n                        <LeftSidebar\n                            selected={this.state.selectedFeature}\n                            showErrorPins={this.showErrorPins.bind(this)}\n                            userMode={this.state.userMode}\n                            leftSideBarStatus={this.get_leftSideBar_status}\n                            precinctSelectedForEdit={this.state.precinct_selected_for_edit}\n                            appData={this.appData}\n                            allErrors={this.state.allErrors}\n                            errorListOnClick={this.errorListOnClick}\n                        />\n                    </div>\n\n                    <MapGL\n                        {...viewport}\n                        onViewportChange={(viewport) =>\n                            this.setState({ viewport: viewport })\n                        }\n                        mapStyle={MAPBOX_STYLE}\n                        mapboxApiAccessToken={MAPBOX_API}\n                        onHover={this._onHover}\n                        onClick={this._onClick}\n                        doubleClickZoom={false}\n                        ref={this.mapRef}\n                    >\n                        <div\n                            id=\"map-checkboxes\"\n                            style={{\n                                position: \"absolute\",\n                                textAlign: \"left\",\n                                fontSize: \"10pt\",\n                                top: \"10%\",\n                                right: \"10px\",\n                            }}\n                        >\n                            {this._renderCheckboxes()}\n                        </div>\n\n                        <Editor\n                            ref={(_) => (this._editorRef = _)}\n                            clickRadius={12}\n                            onSelect={(selected) => this._onSelect(selected)}\n                            onUpdate={(features) => this._onUpdate(features)}\n                            mode={selectedMode}\n                        />\n\n                        {/* Geocoder - enables searching on the map */}\n                        <Geocoder\n                            mapRef={this.mapRef}\n                            onResult={this.handleOnResult}\n                            onViewportChange={this.handleGeocoderViewportChange}\n                            mapboxApiAccessToken={MAPBOX_API}\n                            position=\"top-right\"\n                        />\n                        {/* This is used alongside the Geocoder... \n                            But apparently it doesn't need to be here for the geocoder to work?\n                            I commented it out - because it mysteriously breaks the Editor...\n                         */}\n                        {/* <DeckGL {...viewport} layers={[searchResultLayer]} /> */}\n\n                        {/* For rendering the controls at top left of the map */}\n                        <div className=\"FullScreenController MapControllers\">\n                            <FullscreenControl />\n                        </div>\n                        <div className=\"NavigationController MapControllers\">\n                            <NavigationControl />\n                        </div>\n                        <div className=\"ScaleController MapControllers\">\n                            <ScaleControl />\n                        </div>\n\n                        {/* {this.renderLayers()} */}\n\n                        {this.renderStateLayers()}\n\n                        {this.renderCountyLayers()}\n\n                        {this.renderCongressionalLayers()}\n\n                        {this.renderPrecinctLayers()}\n\n                        {this._renderTooltip()}\n\n                        {this._renderToolbar()}\n\n                        {/* For rendering pins over our map */}\n                        <Pins\n                            data={ERRORS}\n                            onClick={this._onClickError}\n                            shouldShowPins={shouldShowPins}\n                            appData={this.appData}\n                            mapRef={this.mapRef}\n                        />\n                        {this._renderErrorPopup()}\n                    </MapGL>\n                </div>\n\n                <ToastContainer />\n            </div>\n        );\n    }\n\n    mergePrecincts = () => {\n        const { selectedPrecinctGroup } = this.state;\n        if (selectedPrecinctGroup.length === 2) {\n            const precinctId1 = selectedPrecinctGroup.pop();\n            const precinctId2 = selectedPrecinctGroup.pop();\n            //TODO deal with merge\n            const result = this.appData.mergePrecinct(precinctId1, precinctId2);\n            //merge response\n            if (result) {\n                toast.success(\"Precincts merged\", {\n                    position: toast.POSITION.BOTTOM_CENTER,\n                });\n            }\n            else {\n                toast.error(\"Could not merge\", {\n                    position: toast.POSITION.BOTTOM_CENTER,\n                });\n            }\n            this.removeSelectedHighlight(precinctId1);\n            this.removeSelectedHighlight(precinctId2);\n        }\n    }\n\n    /**\n     * toggles whether a layer is displayed\n     */\n    toggleLayer = (layer, e) => {\n        e.stopPropagation();\n        const { layers } = this.state;\n        switch (layer) {\n            case \"States\":\n                layers.states = !layers.states;\n                break;\n            case \"Counties\":\n                layers.counties = !layers.counties;\n                break;\n            case \"Congressional Districts\":\n                layers.congressional = !layers.congressional;\n                break;\n            case \"Precincts\":\n                layers.precincts = !layers.precincts;\n                break;\n            case \"National Parks\":\n                layers.parks = !layers.parks;\n                break;\n            default:\n        }\n        this.setState({ layers: layers });\n    };\n\n    stopPropogation = (e) => {\n        //console.log(e);\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n    }\n\n    /**\n     * renders layer selection checkboxes\n     */\n    _renderCheckboxes = () => {\n        return (\n            <div>\n                <Card\n                    border=\"secondary\"\n                    style={{ width: \"10rem\", backgroundColor: \"rgba(255,255,255,0.9)\" }}\n                    onMouseOver={(e) => this.stopPropogation(e)}\n                >\n                    <Card.Header>Layers</Card.Header>\n                    <Card.Body>\n                        <Form>\n                            {[\n                                \"States\",\n                                \"Congressional Districts\",\n                                \"Counties\",\n                                \"Precincts\",\n                                \"National Parks\",\n                            ].map((name) => (\n                                <div key={\"checkbox-\".concat(name)}>\n                                    <Form.Check\n                                        label={name}\n                                        type={\"checkbox\"}\n                                        defaultChecked={name != \"Congressional Districts\"\n                                            && name != \"National Parks\" ? true : false}\n                                        onClick={(e) => this.toggleLayer(name, e)}\n                                    />\n                                </div>\n                            ))}\n                        </Form>\n                    </Card.Body>\n                    <Card.Footer style={{ lineHeight: \"1.0\" }}>\n                        <small className=\"text-muted\">\n                            Note: some layers will only show at certain zoom levels\n                        </small>\n                    </Card.Footer>\n                </Card>\n            </div>\n        );\n    };\n}\n\n\n\n\n\nexport function renderToDom(container) {\n    render(<App />, container);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('map'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}