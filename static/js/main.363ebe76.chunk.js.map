{"version":3,"sources":["data/New_York_Congressional_Districts.GeoJSON","data/AppData.js","layers/StateLayer.js","layers/PrecinctLayer.js","layers/CongressionalLayer.js","components/map/ErrorPins.js","components/map/ErrorModal.js","components/navbar/StateSelector.js","components/sidebar/ElectionDisplayBar.js","components/sidebar/DemographicsTable.js","components/sidebar/DataCorrectionPage.js","components/sidebar/Comments.js","components/sidebar/CommentModal.js","components/sidebar/LeftSidebar.js","components/map/toolbar.js","components/navbar/UserModeSelector.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","AppData","asyncFetch","url","a","fetch","response","json","this","allStates","baseUrl","data","status","alert","i","features","type","content","feature","properties","name","id","congressional_districts","congressionalDistrictIds","geometry","push","featureCollection","stateID","concat","stateLayerFill","paint","stateLayerFillHighlight","source","precinctLayerFill","precinctLayerFillHighlight","precinctLayerOutline","congressionalLayerFill","congressionalLayerFillHighlight","congressionalLayerOutline","Pins","props","onClick","shouldShowPins","console","log","map","city","index","key","longitude","latitude","height","viewBox","style","cursor","fill","stroke","transform","d","PureComponent","ErrorInfo","info","textAlign","from","StateSelector","Dropdown","Toggle","variant","Menu","Item","href","select_state","Component","ElectionDisplayBar","state","election","electionResults","year","clinton","Math","random","trump","round","setState","keys","Object","ButtonGroup","size","className","Button","changeElection","bind","width","DemographicsTable","Table","striped","bordered","hover","colSpan","DataCorrectionPage","dismiss","data_correction_page_status","Form","Group","controlId","Label","Control","as","placeholder","save_changes","Comments","comments","get_comments","prevProps","savedCommentData","get_saved_comments","new_comments","numComments","ceil","commenter","comment","displayed_comments","Card","Body","CommentModal","show","display","user","text","comment_data","handle_modal_display","Modal","onHide","Header","closeButton","Title","Footer","saveCommentData","document","getElementById","value","LeftSidebar","createList","list","selected","p","get_data_correction_page_status","page_status","mode","get_comments_modal_data","comment_modal_data","_handleClick","event","showErrorPins","undefined","length","trigger","open","MODES","EditorModes","SELECT","icon","DRAW_POINT","DRAW_PATH","DRAW_POLYGON","DRAW_RECTANGLE","Container","styled","div","Row","hovered","Img","img","Tooltip","Delete","Toolbar","_onHover","evt","hoveredId","target","_onDelete","onDelete","deleting","setTimeout","_onSaveChange","toolBarRequest","selectedMode","m","onSwitchMode","onMouseOver","onMouseOut","_","src","UserModeSelector","userModeSelect","MAPBOX_API","App","mapRef","React","createRef","handleViewportChange","viewport","handleGeocoderViewportChange","transitionDuration","handleOnResult","result","searchResultLayer","GeoJsonLayer","getFillColor","getRadius","pointRadiusMinPixels","pointRadiusMaxPixels","selectedFeatureIndex","toast","position","POSITION","BOTTOM_RIGHT","splice","READ_ONLY","_editorRef","deleteFeatures","_switchMode","_onSelect","_onUpdate","_onSaveRequest","selected_saved_feature","_renderToolbar","userMode","onSelect","selectedFeatureId","_onClick","stateFeature","find","f","layer","countyFeature","congressionalFeature","precinctFeature","selectedFeature","_zoomToFeature","NAME","getFeatureFilter","isState","isCounty","isCongressional","NAMELSAD","isPrecinct","GEOID10","srcEvent","x","y","stateHovered","countyHovered","congressionalHovered","precinctHovered","filter","hoveredFeature","_onClickError","error_data","popupInfo","zoom","toggleLayer","layers","states","counties","congressional","precincts","parks","_renderCheckboxes","border","backgroundColor","Check","label","defaultChecked","onChange","lineHeight","stateData","countyData","countyDataOutline","congressionalDistrictData","precinctData","window","innerHeight","appData","filters","countyFilter","precinctFilter","stateFilter","congressionalFilter","bbox","minLng","minLat","maxLng","maxLat","WebMercatorViewport","fitBounds","padding","transitionInterpolator","LinearInterpolator","around","offsetCenter","left","top","FIPS_CODE","tipSize","anchor","closeOnClick","onClose","fetchAllStates","then","fetchAllCongressionalDistricts","cdData","maxzoom","minzoom","precinct","Navbar","bg","expand","Brand","aria-controls","Collapse","Nav","state_abv","stateSelect","onViewportChange","mapStyle","mapboxApiAccessToken","onHover","doubleClickZoom","ref","fontSize","right","clickRadius","onUpdate","onResult","renderStateLayers","renderCongressionalLayers","renderPrecinctLayers","_renderTooltip","ERRORS","_renderErrorPopup","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.363ebe76.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/New_York_Congressional_Districts.92d17ef6.GeoJSON\";","import { json } from 'd3-request';\n/**\n * A js class to access all our fetch API calls through\n */\nclass AppData {\n\n    constructor() {\n        this.allStates = null;\n\n        // For development\n        // this.baseUrl = \"//0.0.0.0:1234/\";\n\n        // For production\n        this.baseUrl = \"//ElectionDataQuality.com:1234/\";\n    }\n\n    asyncFetch = async (url) => {\n        const response = await fetch(url);\n        const json = await response.json();\n\n        return json;\n    }\n\n    async fetchAllStates() {\n        const data = await this.asyncFetch(this.baseUrl + 'allStates');\n\n        if (data.status != \"ok\") {\n            alert(\"server error: unable to get data\");\n            return;\n        }\n\n        let features = {\n            type: \"FeatureCollection\",\n            features: [],\n        };\n\n        for (let i in data.content) {\n            let feature = {\n                type: \"Feature\",\n                properties: {\n                    name: data.content[i].name,\n                    id: data.content[i].id,\n                    congressional_districts: data.content[i].congressionalDistrictIds,\n                },\n                geometry: data.content[i].geometry,\n            };\n\n            features.features.push(feature);\n        }\n\n        return {\n            featureCollection: features,\n        };\n    }\n\n    async fetchCongressionalDistrictByState(stateID) {\n        const data = await this.asyncFetch(this.baseUrl + 'congressionalDistrictsForState?stateId='.concat(stateID));\n\n        if (data.status != \"ok\") {\n            alert(\"server error: unable to get data\");\n            return;\n        }\n\n        return data.content;\n    }\n\n    async fetchAllCongressionalDistricts() {\n        const data = await this.asyncFetch(this.baseUrl + 'allCongressionalDistricts');\n\n        if (data.status != \"ok\") {\n            alert(\"server error: unable to get data\");\n            return;\n        }\n\n        return data.content;\n    }\n\n    // fetchCongressionalDistrictByCID(CID) {\n    //     return this.asyncFetch(this.baseUrl + 'congressionalDistrict?cid='.concat(CID))\n    //         .then(data => {\n    //             if (data.status != \"ok\") {\n    //                 alert(\"server error: unable to get data\");\n    //                 return;\n    //             }\n\n    //             return data.content;\n    //         });\n    // }\n\n    fetchPrecincts() {\n\n    }\n}\n\nexport default AppData;","export const stateLayerFill = {\n    id: 'stateFill',\n    type: 'fill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.3)',\n    },\n};\n\nexport const stateLayerFillHighlight = {\n    id: 'stateFillHighlighted',\n    type: 'fill',\n    source: 'stateFill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.5)',\n    },\n};","export const precinctLayerFill = {\n    id: 'precinctFill',\n    type: 'fill',\n    paint: {\n        'fill-color': 'rgba(0, 0, 0, 0.0)',\n    },\n};\n\nexport const precinctLayerFillHighlight = {\n    id: 'precinctFillHighlighted',\n    type: 'fill',\n    source: 'precinctFill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.5)',\n    },\n};\n\nexport const precinctLayerOutline = {\n    id: 'precinctOutline',\n    type: 'line',\n    paint: {\n        'line-color': 'rgba(66, 135, 245, 1.0)',\n        'line-width': 1,\n    },\n};","export const congressionalLayerFill = {\n    id: 'congressionalFill',\n    type: 'fill',\n    paint: {\n        'fill-color': 'rgba(0, 0, 0, 0.0)',\n    },\n};\n\nexport const congressionalLayerFillHighlight = {\n    id: 'congressionalFillHighlighted',\n    type: 'fill',\n    source: 'congressionalFill',\n    paint: {\n        'fill-color': 'rgba(66, 135, 245, 0.5)',\n    },\n};\n\nexport const congressionalLayerOutline = {\n    id: 'congressionalOutline',\n    type: 'line',\n    paint: {\n        'line-color': 'rgba(14, 14, 14, 0.5)',\n        'line-width': 2,\n    },\n};","import React, { PureComponent } from 'react';\nimport { Marker } from 'react-map-gl';\n\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\n\nconst SIZE = 20;\n\n// Important for perf: the markers never change, avoid rerender when the map viewport changes\nexport default class Pins extends PureComponent {\n\n    render() {\n        const { data, onClick, shouldShowPins } = this.props;\n        console.log(shouldShowPins);\n        if (shouldShowPins) {\n            console.log(\"should show pins\");\n            return data.map((city, index) => (\n                <Marker key={`marker-${index}`} longitude={city.longitude} latitude={city.latitude}>\n                    <svg\n                        height={SIZE}\n                        viewBox=\"0 0 24 24\"\n                        style={{\n                            cursor: 'pointer',\n                            fill: '#d00',\n                            stroke: 'none',\n                            transform: `translate(${-SIZE / 2}px,${-SIZE}px)`\n                        }}\n                        onClick={() => onClick(city)}\n                    >\n                        <path d={ICON} />\n                    </svg>\n                </Marker>\n            ));\n        } else {\n            return (<span></span>);\n        }\n\n    }\n}","import React, { PureComponent } from 'react';\n\nexport default class ErrorInfo extends PureComponent {\n    render() {\n        const { info } = this.props;\n\n        return (\n            <div>\n                <h3>Map Error</h3>\n                <br />\n                <p style={{ textAlign: 'left' }}>\n                    Type: {info.type}\n                    <br />\n                    Source: {info.from}\n                </p>\n            </div >\n        );\n    }\n}","import React, {Component} from 'react';\n\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nclass StateSelector extends Component{\n\n    render(){\n        return(\n            <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                    Select State\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                    <Dropdown.Item href=\"#/NewYork\" onClick={this.props.select_state(\"NY\")}>New York</Dropdown.Item>\n                    <Dropdown.Item href=\"#/Utah\" onClick={this.props.select_state(\"UT\")}>Utah</Dropdown.Item>\n                    <Dropdown.Item href=\"#/Wisconsin\" onClick={this.props.select_state(\"WI\")}>Wisconsin</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n        );\n    }\n}\n\nexport default StateSelector;","import React, { Component } from 'react';\n\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\n\n\nclass ElectionDisplayBar extends Component {\n    constructor(props) {\n        super(props);\n        //this.electionResults = { \"Clinton\": 60, \"Trump\": 40, \"Other\": 5 };\n        this.state = {\n            election: 2016,\n            electionResults: { \"Dem\": 60, \"Rep\": 40, \"Other\": 5 }\n        }\n    }\n\n    changeElection(year) {\n        let clinton = Math.random() * 100;\n        clinton = Math.round(clinton);\n        let trump = 100 - clinton;\n        this.setState({ election: year, electionResults: { \"Dem\": clinton, \"Rep\": trump } });\n    }\n\n    render() {\n        const { electionResults } = this.state;\n\n        let keys = Object.keys(electionResults);\n        //let values = Object.values(electionResults);\n\n        if (electionResults) {\n\n            return (\n                <div>\n                    <ButtonGroup size=\"sm\" className=\"mt-3\">\n                        <Button variant=\"outline-primary\" id=\"btn1\" className=\"button\" onClick={this.changeElection.bind(this, 2016)}>2016</Button>\n                        {/* <Button variant=\"outline-primary\" id=\"btn2\" className=\"button\" onClick={this.changeElection.bind(this, 2012)}>2016</Button> */}\n                        <Button variant=\"outline-primary\" id=\"btn3\" className=\"button\" onClick={this.changeElection.bind(this, 2008)}>2018</Button>\n                    </ButtonGroup>\n                    <br />\n                    <hr />\n                    Presidential:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar\" style={{ width: electionResults[keys[0]] + '%' }}>\n                            {keys[0] + ' ' + electionResults[keys[0]] + '%'}\n                        </div>\n                        <div className=\"RedBar\" style={{ width: electionResults[keys[1]] + '%' }}>\n                            {keys[1] + ' ' + electionResults[keys[1]] + '%'}\n                        </div>\n                    </div>\n                    <br />\n                    <hr />\n                    Congressional:\n                    <div className=\"BarDisplay\">\n                        <div className=\"BlueBar\" style={{ width: electionResults[keys[0]] + '%' }}>\n                            {keys[0] + ' ' + electionResults[keys[0]] + '%'}\n                        </div>\n                        <div className=\"RedBar\" style={{ width: electionResults[keys[1]] + '%' }}>\n                            {keys[1] + ' ' + electionResults[keys[1]] + '%'}\n                        </div>\n                    </div>\n                    <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n                </div>\n            )\n        }\n    }\n}\n\nexport default ElectionDisplayBar;","import React, { PureComponent } from 'react';\n\nimport Table from 'react-bootstrap/Table';\n\nclass DemographicsTable extends PureComponent {\n    render() {\n        return (\n            <div>\n                <Table striped bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Race</th>\n                            <th>Num</th>\n                            <th>Percent</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <th>White</th>\n                            <td>112</td>\n                            <td>44%</td>\n                        </tr>\n                        <tr>\n                            <th>Black</th>\n                            <td>55</td>\n                            <td>22%</td>\n                        </tr>\n                        <tr>\n                            <th>Hispanic</th>\n                            <td>80</td>\n                            <td>32%</td>\n                        </tr>\n                        <tr>\n                            <th>Asian</th>\n                            <td>6</td>\n                            <td>2%</td>\n                        </tr>\n                        <tr>\n                            <th>Other</th>\n                            <td>0</td>\n                            <td>0%</td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr>\n                            <th colSpan=\"2\">Total Population</th>\n                            <td>253</td>\n                        </tr>\n                    </tfoot>\n                </Table>\n                <a className=\"dataSource\" href=\"https://electionlab.mit.edu/data\">source</a>\n            </div>\n        );\n    }\n}\n\nexport default DemographicsTable;","import React, { Component } from 'react';\n\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form'\n\n\n\nclass DataCorrectionPage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    save_changes() {\n        this.dismiss();\n    }\n\n    dismiss() {\n        this.props.data_correction_page_status(\"done\");\n    }\n\n\n    render() {\n        return (\n            <div className=\"data_correction_page\">\n                <h4>Data Correction Form</h4>\n                <Form>\n                    <Form.Group controlId=\"data_correction.target_data\">\n                        <Form.Label>Data for correction</Form.Label>\n                        <Form.Control as=\"select\">\n                            <option>Demographic</option>\n                            <option>Election</option>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group controlId=\"data_correction.value\">\n                        <Form.Label>Changed Value</Form.Label>\n                        <Form.Control type=\"value\" placeholder=\"Please enter corrected data\" />\n                    </Form.Group>\n                </Form>\n                <div className=\"data_correction_Btns\">\n                    <Button variant=\"outline-primary\" id=\"data_change\" onClick={() => { this.save_changes() }}>Change</Button>\n                    <Button variant=\"outline-primary\" id=\"data_change_cancel\" onClick={() => { this.dismiss() }}>Cancel</Button>\n                </div>\n                <br />\n            </div>\n        );\n    }\n}\n\nexport default DataCorrectionPage;","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card';\n\nclass Comments extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            comments: []\n        };\n    }\n\n    componentDidMount() {\n        this.get_comments();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.savedCommentData !== this.props.savedCommentData) {\n            this.get_saved_comments();\n        }\n    }\n\n    //Dynamically shows saved comments from comment modal\n    get_saved_comments() {\n        console.log(\"________________\", this.props.savedCommentData)\n        if (this.props.savedCommentData) {\n            this.setState((state) => {\n                let new_comments = state.comments;\n                new_comments.push(this.props.savedCommentData);\n                return { comments: new_comments }\n            });\n        }\n    }\n\n    // this is just for the presentation\n    get_comments() {\n        let numComments = Math.ceil(Math.random() * 3);\n        let commenter = [\"David\", \"Ilan\", \"Reed\", \"Sam\"];\n        let content = [\"Some comment about changing the election data b/c old source was invalid.\", \"Some comment about undoing the yesterdays changes done to the boundaries of the Albany county of NY.\", \"Some test comment.\", \"Another test comment.\"];\n        let comments = [];\n        for (let i = 0; i < numComments; i++) {\n            let comment = {\n                commenter: commenter[Math.round(Math.random() * 3)],\n                content: content[Math.round(Math.random() * 3)]\n            }\n            comments.push(comment);\n        }\n        this.setState({ comments: comments });\n    }\n\n    render() {\n        const { comments } = this.state;\n        const displayed_comments = [];\n        for (let i in comments) {\n            displayed_comments.push(\n                <Card>\n                    <Card.Body>\n                        {comments[i].commenter}{\": \"}{comments[i].content}\n                    </Card.Body>\n                </Card>\n            );\n        }\n\n        return (\n            <div >\n                {displayed_comments}\n            </div >\n        );\n    }\n}\n\nexport default Comments;","import React, { Component } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\n\nclass CommentModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false\n        };\n    }\n\n    //display is boolean\n    handle_modal_display(display) {\n        this.setState({ show: display });\n    }\n\n    saveCommentData(user, text) {\n        let comment_data = {\n            commenter: user,\n            content: text\n        };\n        this.props.savedCommentData(comment_data);\n    }\n\n    render() {\n        const { show } = this.state;\n        return (\n            <div>\n                <Button variant=\"primary\" onClick={() => { this.handle_modal_display(true) }}>Create Comment</Button>\n                <Modal show={show} onHide={() => { this.handle_modal_display(false) }}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Enter comment</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <input id=\"commentModalInput\" placeholder=\" Please enter your comments here\"></input>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => { this.handle_modal_display(false) }}>Cancel</Button>\n                        <Button variant=\"primary\" onClick={() => {\n                            this.handle_modal_display(false);\n                            this.saveCommentData(\"User\", document.getElementById(\"commentModalInput\").value);\n                        }}>Save Comment</Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default CommentModal;","import React, { Component } from 'react';\n\nimport Collapsible from 'react-collapsible';\n\nimport ElectionDisplayBar from './ElectionDisplayBar';\nimport DemographicsTable from './DemographicsTable';\nimport DataCorrectionPage from './DataCorrectionPage';\nimport Comments from './Comments';\nimport CommentModal from './CommentModal';\n\nclass LeftSidebar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mode: \"data_display\",\n            comment_data: undefined\n        }\n    }\n\n    createList = () => {\n        let list = [];\n\n        const feature = this.props.selected; //the selected feature\n\n        if (feature) {\n            if (feature.properties) {\n                const properties = feature.properties;\n                for (const p in properties) {\n                    list.push(<div>{`${p}: ${properties[p]}`}</div>);\n                }\n                // list.push(<div>State: {properties['name']}</div>);\n            }\n        }\n        return list;\n    }\n\n    //For data correction page to return page_status\n    get_data_correction_page_status = (page_status) => {\n        if (page_status === \"done\") {\n            this.setState({ mode: \"data_display\" });\n        }\n    }\n\n    get_comments_modal_data = (comment_modal_data) => {\n        if (comment_modal_data) {\n            this.setState({ comment_data: comment_modal_data });\n        }\n    }\n\n    _handleClick = event => {\n        this.props.showErrorPins();\n    }\n\n    makeHeader(){\n        const feature = this.props.selected;\n\n        if(feature && feature.properties && feature.properties.type){\n            //let name = feature.properties.name || feature.properties.NAME || feature.properties.GEOID10 || feature.properties.NAMELSAD\n            let type = feature.properties.type;\n        }\n    }\n\n    render() {\n        const { mode } = this.state;\n        const { comment_data } = this.state;\n        const list = this.createList();\n        // const feature = this.props.selected;\n\n        if (list.length > 0) {\n            if (mode === \"data_display\") {\n                return (\n                    <div >\n                        <h5></h5>\n                        <Collapsible trigger=\"View General Info\" open={true}>\n                            {list}\n                        </Collapsible>\n                        <Collapsible trigger=\"View Elections\">\n                            <ElectionDisplayBar />\n                        </Collapsible>\n                        <Collapsible trigger=\"View Demographics\">\n                            <DemographicsTable />\n                        </Collapsible>\n                        <Collapsible trigger=\"Modify Data\">\n                            <DataCorrectionPage data_correction_page_status={this.get_data_correction_page_status} />\n                        </Collapsible>\n                        <Collapsible trigger=\"View Comments\">\n                            <Comments savedCommentData={comment_data} />\n                            <br />\n                            <CommentModal savedCommentData={this.get_comments_modal_data} />\n                            <br />\n                        </Collapsible>\n                        <Collapsible trigger=\"View Map Errors\">\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View All</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Self Intersecting Boundaries</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Open Borders</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Gaps in Precinct Coverage</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Precinct Multipolygon</button>\n                            <button className=\"Extra-Large-Button\" onClick={this._handleClick}>View Overlapping Precincts</button>\n                        </Collapsible>\n                    </div >\n                );\n            }\n        }\n        return (\n            <div>\n                Click on a highlighted state to view details\n            </div>\n        );\n    }\n}\n\nexport default LeftSidebar;","/* global setTimeout */\nimport React, { PureComponent } from 'react';\nimport styled from 'styled-components';\nimport { EditorModes } from 'react-map-gl-draw';\n\n\nconst MODES = [\n    { id: EditorModes.SELECT, text: 'Edit Feature', icon: 'icon-select.svg' },\n    { id: EditorModes.DRAW_POINT, text: 'Draw Point', icon: 'icon-point.svg' },\n    { id: EditorModes.DRAW_PATH, text: 'Draw Polyline', icon: 'icon-path.svg' },\n    { id: EditorModes.DRAW_POLYGON, text: 'Draw Polygon', icon: 'icon-polygon.svg' },\n    { id: EditorModes.DRAW_RECTANGLE, text: 'Draw Rectangle', icon: 'icon-rectangle.svg' }\n];\n\nconst Container = styled.div`\n  position: absolute;\n//   width: 48px;\n  left: 260px;\n  top: 240px;\n  background: #fff;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);\n  outline: none;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0px;\n  margin: 0px;\n`;\n\nconst Row = styled.div`\n  height: 34px;\n  width: 34px;\n  padding: 7px;\n  display: flex;\n  justify-content: left;\n  color: ${props => (props.selected ? '#ffffff' : 'inherit')};\n  background: ${props => (props.selected ? '#0071bc' : props.hovered ? '#e6e6e6' : 'inherit')};\n`;\n\nconst Img = styled.img`\n  max-width: 20px !important;\n`;\n\nconst Tooltip = styled.div`\n  position: absolute;\n  left: 52px;\n  padding: 4px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  min-width: 100px;\n  max-width: 300px;\n  height: 24px;\n  font-size: 12px;\n  z-index: 9;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Delete = styled(Row)`\n  &:hover {\n    background: ${props => (props.selected ? '#0071bc' : '#e6e6e6')};\n  }\n  &:active: {\n    background: ${props => (props.selected ? '#0071bc' : 'inherit')};\n  }\n`;\n\nexport default class Toolbar extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            deleting: false,\n            hoveredId: null,\n        };\n    }\n\n    _onHover = evt => {\n        this.setState({ hoveredId: evt && evt.target.id });\n    };\n\n    //TODO probably dont neet to pass the evt \n    _onDelete = () => {\n        this.props.onDelete();\n        this.setState({ deleting: true });\n        setTimeout(() => this.setState({ deleting: false }), 500)\n    };\n\n    _onSaveChange = () => {\n        console.log(this.props.features)\n        this.props.toolBarRequest(this.props.features.data);\n    }\n\n    render() {\n        const { selectedMode } = this.props;\n        const { hoveredId } = this.state;\n        return (\n            <Container>\n                {MODES.map(m => {\n                    return (\n                        <Row\n                            onClick={this.props.onSwitchMode}\n                            onMouseOver={this._onHover}\n                            onMouseOut={_ => this._onHover(null)}\n                            selected={m.id === selectedMode}\n                            hovered={m.id === hoveredId}\n                            key={m.id}\n                            id={m.id}\n                        >\n                            <Img id={m.id} onMouseOver={this._onHover} src={m.icon} />\n                            {hoveredId === m.id && <Tooltip>{m.text}</Tooltip>}\n                        </Row>\n                    );\n                })}\n                <Delete\n                    selected={this.state.deleting}\n                    onClick={this._onDelete}\n                    onMouseOver={this._onHover}\n                    onMouseOut={_ => this._onHover(null)}\n                >\n                    <Img\n                        id={'delete'}\n                        onMouseOver={this._onHover}\n                        src={'icon-delete.svg'}\n                    />\n                    {hoveredId === 'delete' && <Tooltip>{'Delete'}</Tooltip>}\n                </Delete>\n                <Row\n                    onClick={() => this._onSaveChange()}\n                    onMouseOver={this._onHover}\n                    onMouseOut={_ => this._onHover(null)}\n                    id=\"saveDrawBtn\"\n                ><span style={{ \"fontSize\": \"10px\" }}> save</span></Row>\n            </Container>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nclass UserModeSelector extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"userModeSelect\">\n                    Switch User Mode\n            </Dropdown.Toggle>\n                <Dropdown.Menu>\n                    <Dropdown.Item onClick={() => this.props.userModeSelect(\"View\")}>View</Dropdown.Item>\n                    <Dropdown.Item onClick={() => this.props.userModeSelect(\"Edit\")}>Edit</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n        );\n    }\n}\n\nexport default UserModeSelector;","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport MapGL, { Popup, NavigationControl, FullscreenControl, ScaleControl, Source, Layer, LinearInterpolator, WebMercatorViewport } from 'react-map-gl';\nimport { Nav, Navbar, Form } from 'react-bootstrap';\nimport { json } from 'd3-request';\nimport bbox from '@turf/bbox';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { GeoJsonLayer } from '@deck.gl/layers';\nimport Geocoder from 'react-map-gl-geocoder';\nimport { Editor, EditorModes } from 'react-map-gl-draw';\n\n/**\n * JS classes\n */\nimport AppData from '../data/AppData';\n\n/**\n * CSS Styling\n */\nimport '../App.css';\nimport '../styles/Collapsible.css';\nimport '../styles/PinPopup.css';\nimport '../static/app.css';\nimport 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Card from 'react-bootstrap/Card';\n\n/**\n * Map layers\n */\nimport { countyDataLayerFillable, countyDataLayerFillableHighlight, countyDataLayerOutline } from '../layers/CountyLayer';\nimport { stateLayerFill, stateLayerFillHighlight } from '../layers/StateLayer';\nimport { precinctLayerFill, precinctLayerFillHighlight, precinctLayerOutline } from '../layers/PrecinctLayer';\nimport { congressionalLayerFill, congressionalLayerFillHighlight, congressionalLayerOutline } from '../layers/CongressionalLayer';\n\n/**\n * Our components\n */\nimport Pins from './map/ErrorPins';\nimport ErrorInfo from './map/ErrorModal';\nimport StateSelector from './navbar/StateSelector';\nimport LeftSidebar from './sidebar/LeftSidebar';\nimport Toolbar from './map/toolbar';\nimport UserModeSelector from './navbar/UserModeSelector';\n\n/**\n * Static data files\n */\nimport ERRORS from '../data/errors.json';\n//import STATES_TOOLTIP_DATA from '../data/states_tooltip_data.geojson';\n//import NY_COUNTY_SHORELINE_DATA from '../data/ny_county_shoreline.geojson';\n//import NY_PRECINCT_DATA from '../data/ny_precincts.geojson';\nimport NY_CONGRESSIONAL_DATA from '../data//New_York_Congressional_Districts.GeoJSON';\n// import TESTING_PRECINCT_DATA from './data/GeoJSON_example.geojson';\n\n/**\n * Mapbox Style & API Key\n */\nconst MAPBOX_STYLE = 'mapbox://styles/shortland/ck7fn4gmu014c1ip60jlumnm2';\nconst MAPBOX_API = 'pk.eyJ1Ijoic2hvcnRsYW5kIiwiYSI6ImNqeXVzOWhsbjBpYzczY29hNGZycTlqdXAifQ.B6l-uEqGG-Pw6-quz4eflQ';\n\n/**\n * @state viewport: the mpas viewport (lat, long, etc)\n * \n */\nexport default class App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            stateData: null,\n            countyData: null,\n            countyDataOutline: null,\n            congressionalDistrictData: null,\n            precinctData: null,\n            viewport: {\n                width: \"100%\",\n                height: window.innerHeight - 56,\n                latitude: 37.0902,\n                longitude: -105.7129,\n                zoom: 3.3,\n            },\n            popupInfo: null,\n            selectedFeature: null,\n            selectedMode: EditorModes.READ_ONLY,\n            selectedFeatureId: null,\n            hoveredFeature: null,\n            filter: null,\n            shouldShowPins: false,\n            features: {},\n            selectedFeatureIndex: null,\n            userMode: \"View\",\n            layers: { states: true, counties: true, congressional: true, precincts: true, parks: true }\n        };\n\n        this._editorRef = null;\n        this.showErrorPins = this.showErrorPins.bind(this);\n        this.appData = new AppData();\n\n        this.filters = {\n            countyFilter: ['==', 'NAME', ''],\n            precinctFilter: ['==', 'GEOID10', ''],\n            stateFilter: ['==', 'name', ''],\n            congressionalFilter: ['==', 'NAMELSAD', '']\n        }\n    }\n\n    /**\n     * For Mapbox geocoding\n     */\n    mapRef = React.createRef();\n\n    handleViewportChange = viewport => {\n        this.setState({\n            viewport: { ...this.state.viewport, ...viewport }\n        });\n    };\n\n    handleGeocoderViewportChange = viewport => {\n        const geocoderDefaultOverrides = { transitionDuration: 1000 };\n\n        return this.handleViewportChange({\n            ...viewport,\n            ...geocoderDefaultOverrides,\n        });\n    };\n\n    handleOnResult = event => {\n        console.log(event.result);\n        this.setState({\n            searchResultLayer: new GeoJsonLayer({\n                id: \"search-result\",\n                data: event.result.geometry,\n                getFillColor: [255, 0, 0, 128],\n                getRadius: 1000,\n                pointRadiusMinPixels: 10,\n                pointRadiusMaxPixels: 10,\n            })\n        });\n    };\n\n    /**\n     * For React Map Gl Draw\n     */\n    _onDelete = () => {\n        const { selectedFeatureIndex } = this.state;\n        if (selectedFeatureIndex === null || selectedFeatureIndex === undefined) {\n            toast.info(\"Please select a new created precint before deleting action\", {\n                position: toast.POSITION.BOTTOM_RIGHT,\n            });\n            return;\n        }\n        else {\n            toast.info(\"Selected precinct is deleted\", {\n                position: toast.POSITION.BOTTOM_RIGHT,\n            });\n            let features = this.state.features;\n            if (selectedFeatureIndex > -1) {\n                features.data.splice(selectedFeatureIndex, 1);\n            }\n            this.setState({ selectedFeatureIndex: null, selectedMode: EditorModes.READ_ONLY, features: features });\n        }\n        this._editorRef.deleteFeatures(selectedFeatureIndex);\n\n    };\n\n    _switchMode = evt => {\n        let selectedMode = evt.target.id;\n        if (selectedMode === this.state.selectedMode) {\n            selectedMode = null;\n        }\n\n        this.setState({ selectedMode });\n    };\n\n    //Map GL Draw select a feature (a created shape by the MapGLDraw)\n    _onSelect = selected => {\n        this.setState({ selectedFeatureIndex: (selected && selected.selectedFeatureIndex) });\n    };\n    //Map GL Draw update (user draw a new shape)\n    _onUpdate = (features) => {\n        this.setState({ features: features, selectedMode: EditorModes.READ_ONLY, selectedFeatureIndex: null });\n    }\n    // _updateViewport = viewport => {\n    //     this.setState({ viewport });\n    // };\n\n    //toobar save button click event\n    _onSaveRequest = (toolBarRequest) => {\n        if (toolBarRequest) {\n            let selected_saved_feature = this.state.features.data[this.state.selectedFeatureIndex];\n            console.log(selected_saved_feature);\n            this.setState({ selectedMode: EditorModes.READ_ONLY, selectedFeatureIndex: null })\n            if (selected_saved_feature) {\n                toast.info(\"New precinct is saved\", {\n                    position: toast.POSITION.BOTTOM_RIGHT,\n                });\n            }\n            else {\n                toast.info(\"Please select a new created precint to save\", {\n                    position: toast.POSITION.BOTTOM_RIGHT,\n                });\n            }\n        }\n    }\n\n    _renderToolbar = () => {\n        const { userMode } = this.state;\n        if (userMode === \"Edit\") {\n            return (\n                <Toolbar\n                    selectedMode={this.state.selectedMode}\n                    onSwitchMode={this._switchMode}\n                    onDelete={this._onDelete}\n                    onSelect={this._onSelect}\n                    features={this.state.features}\n                    selectedFeatureId={this.state.selectedFeatureId}\n                    toolBarRequest={this._onSaveRequest}\n                />\n            );\n        }\n        else {\n            return;\n        }\n\n    };\n\n    _onClick = event => {\n        // sets the selected feature onclcik, to have properties displayed by LeftSidebar\n        const {\n            features,\n        } = event;\n\n        if (features) {\n            const stateFeature = features.find(f => f.layer.id === 'stateFill');\n            const countyFeature = features.find(f => f.layer.id === 'countyFill');\n            const congressionalFeature = features.find(f => f.layer.id === 'congressionalFill')\n            const precinctFeature = features.find(f => f.layer.id === 'precinctFill');\n\n            if (stateFeature) {\n                stateFeature.properties.type = \"State\";\n                // if a clicks on a state that was already selected/clicked on\n                if (this.state.selectedFeature) {\n                    if (stateFeature.properties.name === this.state.selectedFeature.properties.name) {\n                        this._zoomToFeature(event);\n                        return;\n                    }\n                } else {\n                    toast.info(\"Click the same feature (state/county) again to zoom in.\", {\n                        position: toast.POSITION.BOTTOM_RIGHT,\n                    });\n                }\n                this.setState({ selectedFeature: stateFeature });\n            }\n            else if (countyFeature) {\n                countyFeature.properties.type = \"County\";\n                // if a clicks on a county that was already selected/clicked on\n                if (this.state.selectedFeature) {\n                    if (countyFeature.properties.NAME === this.state.selectedFeature.properties.NAME) {\n                        this._zoomToFeature(event);\n                        return;\n                    }\n                }\n                this.setState({ selectedFeature: countyFeature });\n            }\n            else if (congressionalFeature) {\n                congressionalFeature.properties.type = \"Congressional District\";\n                this.setState({ selectedFeature: congressionalFeature });\n            }\n            else if (precinctFeature) {\n                precinctFeature.properties.type = \"Precinct\";\n                this.setState({ selectedFeature: precinctFeature });\n            }\n            else {\n                //this.setState({ selectedFeature: null });\n            }\n        }\n    }\n\n    _zoomToFeature(event) {\n        const feature = event.features[0];\n\n        if (!feature) {\n            return;\n        }\n\n        if (feature.layer.id === \"stateFill\" || feature.layer.id === \"countyFill\") {\n            const [minLng, minLat, maxLng, maxLat] = bbox(feature);\n            const viewport = new WebMercatorViewport(this.state.viewport);\n            const { longitude, latitude, zoom } = viewport.fitBounds([[minLng, minLat], [maxLng, maxLat]], {\n                padding: 40\n            });\n\n            this.setState({\n                viewport: {\n                    ...this.state.viewport,\n                    longitude,\n                    latitude,\n                    zoom,\n                    transitionInterpolator: new LinearInterpolator({\n                        around: [event.offsetCenter.x, event.offsetCenter.y]\n                    }),\n                    transitionDuration: 1000,\n                }\n            });\n            return;\n        }\n    }\n\n    getFeatureFilter = (feature) => {\n        if (!feature) {\n            return null;\n        }\n        else if (feature.isState) {\n            return ['==', 'name', feature.properties.name];\n        }\n        else if (feature.isCounty) {\n            return ['==', 'NAME', feature.properties.NAME];\n        }\n        else if (feature.isCongressional) {\n            return ['==', 'NAMELSAD', feature.properties.NAMELSAD];\n        }\n        else if (feature.isPrecinct) {\n            return ['==', 'GEOID10', feature.properties.GEOID10];\n        }\n        else {\n            return null;\n        }\n    }\n\n    _onHover = event => {\n        const {\n            features,\n            srcEvent: { x, y },\n        } = event;\n\n        if (!event.type || !event.features || event.features.length === 0 || event.features[0].source === \"composite\") {\n            this.setState({\n                hoveredFeature: null,\n                filter: null,\n            });\n            return;\n        }\n\n        // prevent hovering on pin making the tooltip show at top left of map\n        if (x !== 0 && y !== 0) {\n            this.setState({ x: x, y: y });\n        }\n\n        if (features) {\n            const stateHovered = features.find(f => f.layer.id === 'stateFill');\n            const countyHovered = features.find(f => f.layer.id === 'countyFill');\n            const congressionalHovered = features.find(f => f.layer.id === 'congressionalFill');\n            const precinctHovered = features.find(f => f.layer.id === 'precinctFill');\n\n            const hovered = stateHovered || countyHovered || congressionalHovered || precinctHovered;\n\n            if (stateHovered) { hovered.isState = true; }\n            else if (countyHovered) { hovered.isCounty = true; }\n            else if (congressionalHovered) { hovered.isCongressional = true; }\n            else if (precinctHovered) { hovered.isPrecinct = true; }\n            const filter = this.getFeatureFilter(hovered);\n\n            this.setState({\n                hoveredFeature: hovered,\n                filter: filter\n            });\n        }\n    }\n\n    _renderTooltip() {\n        const { hoveredFeature, x, y } = this.state;\n\n        if (!hoveredFeature) { return; }\n        else if (hoveredFeature.isState) {\n            const stateHovered = hoveredFeature;\n            return (\n                hoveredFeature && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{stateHovered.properties.name}</h5>\n                        <div>Congressional Districts: {(stateHovered.properties.congressional_districts).length}</div>\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        }\n        else if (hoveredFeature.isCounty) {\n            const countyHovered = hoveredFeature;\n            return (\n                countyHovered && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{countyHovered.properties.NAME} County</h5>\n                        <div>FIPS Code: {countyHovered.properties.FIPS_CODE}</div>\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        }\n        else if (hoveredFeature.isCongressional) {\n            const congressionalHovered = hoveredFeature;\n            return (\n                congressionalHovered && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>{congressionalHovered.properties.NAMELSAD}</h5>\n                        <div></div>\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        }\n        else if (hoveredFeature.isPrecinct) {\n            const precinctHovered = hoveredFeature;\n            return (\n                precinctHovered && (\n                    <div className=\"state-tooltip\" style={{ left: x, top: y }}>\n                        <h5>Precinct GEOID: {precinctHovered.properties.GEOID10}</h5>\n                        {/* <div>FIPS Code: {precinctHovered.properties}</div> */}\n                        {/* <br /> */}\n                        {/* <div style={{ \"fontStyle\": \"italic\" }}>(click again to enlarge)</div> */}\n                    </div>\n                )\n            );\n        }\n    }\n\n    userModeSelect = (userMode) => {\n        if (userMode) {\n            this.setState({ userMode: userMode });\n        }\n    }\n\n    stateSelect(name) {\n        let latitude = 0;\n        let longitude = 0;\n        let zoom;\n\n        switch (name) {\n            case \"New York\":\n            case \"NY\":\n                latitude = 43.2994;\n                longitude = -76.2179;\n                zoom = 6;\n                break;\n            case \"Wisconsin\":\n            case \"WI\":\n                latitude = 44.7844;\n                longitude = -89.7879;\n                zoom = 6;\n                break;\n            case \"Utah\":\n            case \"UT\":\n                latitude = 39.3210;\n                longitude = -112.0937;\n                zoom = 6;\n                break;\n            default:\n        }\n\n        this.setState({\n            viewport: {\n                ...this.state.viewport,\n                latitude: latitude,\n                longitude: longitude,\n                zoom: zoom,\n            },\n        });\n    }\n\n    /**\n     * Rendering error pins on the map & its popup\n     */\n    _onClickError = error_data => {\n        this.setState({ popupInfo: error_data });\n        console.log(error_data);\n        this.setState({\n            viewport: {\n                ...this.state.viewport,\n                longitude: error_data.longitude,\n                latitude: error_data.latitude,\n                transitionDuration: 1000,\n                zoom: 11,\n            }\n        });\n    };\n\n    _renderErrorPopup() {\n        const { popupInfo } = this.state;\n\n        return (\n            popupInfo && (\n                <Popup\n                    tipSize={5}\n                    anchor=\"top\"\n                    longitude={popupInfo.longitude}\n                    latitude={popupInfo.latitude}\n                    closeOnClick={false}\n                    onClose={() => this.setState({ popupInfo: null })}\n                >\n                    <ErrorInfo info={popupInfo} />\n                </Popup>\n            )\n        );\n    }\n\n    showErrorPins() {\n        const { shouldShowPins } = this.state;\n\n        if (shouldShowPins) {\n            this.setState({\n                shouldShowPins: false,\n            });\n        } else {\n            this.setState({\n                shouldShowPins: true,\n            });\n        }\n    }\n\n    componentDidMount() {\n        /**\n         * Get all the states\n         */\n        this.appData.fetchAllStates().then(data => {\n            this.setState({\n                stateData: data.featureCollection,\n            });\n        });\n\n        /**\n         * Get all the congressional districts\n         */\n        this.appData.fetchAllCongressionalDistricts().then(cdData => {\n            this.setState({\n                congressionalDistrictData: cdData,\n            });\n        });\n\n        /**\n         * State data\n         */\n        /* json(\n            STATES_TOOLTIP_DATA,\n            (error, response) => {\n                if (!error) {\n                    console.log(response)\n                    // this.setState({ stateData: response});\n                }\n            }\n        ); */\n        /**\n         * County data outline\n         */\n        /* json(\n            NY_COUNTY_SHORELINE_DATA,\n            (error, response) => {\n                if (!error) {\n                    this.setState({countyDataOutline: response});\n                }\n            }\n        ); */\n        /**\n         * County data\n         */\n        /* json(\n            NY_COUNTY_SHORELINE_DATA,\n            (error, response) => {\n                if (!error) {\n                    this.setState({countyData: response});\n                }\n            }\n        );\n        */\n        // json(\n        //     NY_CONGRESSIONAL_DATA,\n        //     (error, response) => {\n        //         if (!error) {\n        //             console.log(response);\n        //             this.setState({ congressionalDistrictData: response });\n        //         }\n        //     }\n        // );\n\n        /* json(\n            NY_PRECINCT_DATA,\n            (error, response) => {\n                if (!error) {\n                    console.log(response);\n                    this.setState({precinctData: response});\n                }\n                else {\n                    console.log(error);\n                }\n            }\n        ); */\n    }\n\n    /**\n     * called when rendering our data layers to the map\n     */\n    renderLayers() {\n        const { stateData, countyData, countyDataOutline, congressionalDistrictData, precinctData, stateFilter, countyFilter, precinctFilter, congressionalFilter } = this.state;\n        const { layers } = this.state;\n\n        return (<>\n            {/* NY COUNTY DATA */}\n            {/* < Source type=\"geojson\" data={countyData} >\n                    <Layer\n                        {...countyDataLayerFillableHighlight}\n                        filter={countyFilter}\n                        minzoom={5}\n                        maxzoom={8}\n                    />\n                    <Layer\n                        {...countyDataLayerFillable}\n                        minzoom={5}\n                        maxzoom={8}\n                    />\n                </Source > */}\n\n            {/* NY COUNTY DATA (OUTLINE) */}\n            {/* < Source type=\"geojson\" data={countyDataOutline} >\n                    <Layer\n                        {...countyDataLayerOutline}\n                        minzoom={5}\n                    // maxzoom={8}\n                    />\n                </Source > */}\n\n            {/* NY PRECINCT DATA */}\n            {/* {\n                    layers.precinct &&\n                    < Source type=\"geojson\" data={precinctData} >\n                        <Layer\n                            {...precinctLayerFillHighlight}\n                            filter={precinctFilter}\n                            minzoom={8}\n                        />\n                        <Layer\n                            {...precinctLayerOutline}\n                            minzoom={8}\n                        />\n                        <Layer\n                            {...precinctLayerFill}\n                            minzoom={8}\n                        />\n                    </Source >\n                } */}\n        </>);\n    }\n\n    /**\n     * Render state data\n     */\n    renderStateLayers() {\n        const { layers, stateData, stateFilter } = this.state;\n\n        return (<>\n            {\n                layers.states &&\n                < Source type=\"geojson\" data={stateData} >\n                    <Layer\n                        {...stateLayerFillHighlight}\n                        filter={stateFilter}\n                        maxzoom={5}\n                    />\n                    <Layer\n                        {...stateLayerFill}\n                        maxzoom={5}\n                    />\n                </Source >\n            }\n        </>);\n    }\n\n    /**\n     * Render congressional data\n     */\n    renderCongressionalLayers() {\n        const { layers, congressionalDistrictData, } = this.state;\n\n        return (<>\n            {\n                layers.congressional &&\n                < Source type=\"geojson\" data={congressionalDistrictData} >\n                    <Layer\n                        {...congressionalLayerFillHighlight}\n                        //filter={congressionalFilter}\n                        minzoom={5}\n                    />\n                    <Layer\n                        {...congressionalLayerOutline}\n                        minzoom={5}\n                    />\n                    <Layer\n                        {...congressionalLayerFill}\n                        minzoom={5}\n                    />\n                </Source >\n            }\n        </>);\n    }\n\n    /**\n     * Render precinct data\n     */\n    renderPrecinctLayers() {\n        const { layers, precinctData, } = this.state;\n\n        return (<>\n            {\n                layers.precinct &&\n                < Source type=\"geojson\" data={precinctData} >\n                    <Layer\n                        {...precinctLayerFillHighlight}\n                        // filter={precinctFilter}\n                        minzoom={8}\n                    />\n                    <Layer\n                        {...precinctLayerOutline}\n                        minzoom={8}\n                    />\n                    <Layer\n                        {...precinctLayerFill}\n                        minzoom={8}\n                    />\n                </Source >\n            }\n        </>);\n    }\n\n    render() {\n        const { viewport, selectedMode, shouldShowPins } = this.state;\n\n        return (\n            <div className=\"App\">\n                <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n                    <Navbar.Brand href=\"#home\">Election Data Quality</Navbar.Brand>\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\n                        <Nav className=\"mr-auto\">\n                            {/* <Nav.Link href=\"#tmp\">Something</Nav.Link> */}\n                            <StateSelector\n                                select_state={(state_abv) => this.stateSelect.bind(this, state_abv)}\n                            />\n                            <UserModeSelector userModeSelect={(selectedMode) => this.userModeSelect(selectedMode)} />\n                        </Nav>\n                    </Navbar.Collapse>\n                </Navbar>\n\n                <div>\n                    <div id=\"leftCol\">\n                        <LeftSidebar\n                            selected={this.state.selectedFeature}\n                            showErrorPins={this.showErrorPins.bind(this)}\n                        />\n                    </div>\n\n                    <MapGL\n                        {...viewport}\n                        onViewportChange={(viewport => this.setState({ viewport: viewport }))}\n                        mapStyle={MAPBOX_STYLE}\n                        mapboxApiAccessToken={MAPBOX_API}\n                        onHover={this._onHover}\n                        onClick={this._onClick}\n                        doubleClickZoom={false}\n                        ref={this.mapRef}\n                    >\n                        <div id=\"map-checkboxes\" style={{\n                            position: 'absolute',\n                            textAlign: 'left',\n                            fontSize: '10pt',\n                            top: '10%',\n                            right: '10px'\n                        }}>\n                            {this._renderCheckboxes()}\n                        </div>\n\n                        <Editor\n                            ref={_ => (this._editorRef = _)}\n                            clickRadius={12}\n                            onSelect={(selected) => this._onSelect(selected)}\n                            onUpdate={(features) => this._onUpdate(features)}\n                            mode={selectedMode}\n                        />\n\n                        {/* Geocoder - enables searching on the map */}\n                        <Geocoder\n                            mapRef={this.mapRef}\n                            onResult={this.handleOnResult}\n                            onViewportChange={this.handleGeocoderViewportChange}\n                            mapboxApiAccessToken={MAPBOX_API}\n                            position=\"top-right\"\n                        />\n                        {/* This is used alongside the Geocoder... \n                            But apparently it doesn't need to be here for the geocoder to work?\n                            I commented it out - because it mysteriously breaks the Editor...\n                         */}\n                        {/* <DeckGL {...viewport} layers={[searchResultLayer]} /> */}\n\n                        {/* For rendering the controls at top left of the map */}\n                        <div className=\"FullScreenController MapControllers\">\n                            <FullscreenControl />\n                        </div>\n                        <div className=\"NavigationController MapControllers\">\n                            <NavigationControl />\n                        </div>\n                        <div className=\"ScaleController MapControllers\">\n                            <ScaleControl />\n                        </div>\n\n                        {/* {this.renderLayers()} */}\n\n                        {this.renderStateLayers()}\n\n                        {this.renderCongressionalLayers()}\n\n                        {this.renderPrecinctLayers()}\n\n                        {this._renderTooltip()}\n\n                        {this._renderToolbar()}\n\n                        {/* For rendering pins over our map */}\n                        <Pins\n                            data={ERRORS}\n                            onClick={this._onClickError}\n                            shouldShowPins={shouldShowPins}\n                        />\n                        {this._renderErrorPopup()}\n                    </MapGL>\n                </div>\n\n                <ToastContainer />\n            </div >\n        );\n    }\n\n    toggleLayer = (layer) => {\n        const { layers } = this.state;\n        switch (layer) {\n            case \"States\":\n                layers.states = !layers.states;\n                break;\n            case \"Counties\":\n                layers.counties = !layers.counties;\n                break;\n            case \"Congressional Districts\":\n                layers.congressional = !layers.congressional;\n                break;\n            case \"Precincts\":\n                layers.precincts = !layers.precincts;\n                break;\n            case \"National Parks\":\n                layers.parks = !layers.parks;\n                break;\n            default:\n        }\n        this.setState({ layers: layers })\n    }\n\n    _renderCheckboxes = () => {\n        return (\n            <div>\n                <Card border=\"secondary\" style={{ width: '10rem', backgroundColor: 'rgba(255,255,255,0.9)' }} >\n                    <Card.Header>Layers</Card.Header>\n                    <Card.Body>\n                        <Form>\n                            {['States', 'Counties', 'Congressional Districts', 'Precincts', 'National Parks'].map((name) => (\n                                <div key={\"checkbox-\".concat(name)}>\n                                    <Form.Check label={name} type={'checkbox'} defaultChecked={true} onChange={this.toggleLayer.bind(this, name)} />\n                                </div>\n                            ))}\n                        </Form>\n                    </Card.Body>\n                    <Card.Footer style={{ lineHeight: '1.0' }}>\n                        <small className=\"text-muted\">Note: some layers will only show at certain zoom levels</small>\n                    </Card.Footer>\n                </Card>\n            </div>\n        );\n    }\n}\n\nexport function renderToDom(container) {\n    render(<App />, container);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('map'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}